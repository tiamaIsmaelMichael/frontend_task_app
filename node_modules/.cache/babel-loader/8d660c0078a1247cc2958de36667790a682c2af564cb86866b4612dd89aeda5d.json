{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\LENOVO\\\\Documents\\\\Task-Management-Application-main\\\\frontend\\\\src\\\\pages\\\\Admin.jsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { useEffect, useMemo, useState } from 'react';\nimport Layout from '../components/Layout';\nimport { adminListUsers, adminDeleteUser, adminResetPassword, adminCreateProject, adminListProjects, adminDeleteProject, adminTeamStats, adminUpdateProjectMembers, adminListAllTasks, adminReviewProgress, adminAssignTask, listNotifications, markNotificationRead, deleteNotification, deleteAllNotifications, adminCreateProjectTask } from '../services/api';\nimport { useNavigate } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Guard = ({\n  children\n}) => {\n  _s();\n  const user = useMemo(() => {\n    try {\n      return JSON.parse(localStorage.getItem('userInfo'));\n    } catch {\n      return null;\n    }\n  }, []);\n  if (!user || user.role !== 'admin') {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container py-4\",\n      children: \"Acc\\xE8s refus\\xE9\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 11,\n      columnNumber: 12\n    }, this);\n  }\n  return children;\n};\n_s(Guard, \"OARsw6Qp6zRlUYwaBceivXyiTaM=\");\n_c = Guard;\nconst AdminPage = () => {\n  _s2();\n  var _projects$find;\n  const navigate = useNavigate();\n  const [users, setUsers] = useState([]);\n  const [projects, setProjects] = useState([]);\n  const [stats, setStats] = useState(null);\n  const [allTasks, setAllTasks] = useState([]);\n  const [notifications, setNotifications] = useState([]);\n  const [selectedMembers, setSelectedMembers] = useState([]);\n  const [maxMembers, setMaxMembers] = useState(10);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n  const [projName, setProjName] = useState('');\n  const [projDesc, setProjDesc] = useState('');\n  const [projStart, setProjStart] = useState('');\n  const [projEnd, setProjEnd] = useState('');\n  const [editProject, setEditProject] = useState(null);\n  const [review, setReview] = useState({\n    open: false,\n    task: null,\n    report: null,\n    progress: '',\n    comment: '',\n    mode: 'approved'\n  });\n  const [toast, setToast] = useState({\n    show: false,\n    type: 'success',\n    message: ''\n  });\n\n  // Etats du formulaire de création de tâche projet\n  const [taskTitle, setTaskTitle] = useState('');\n  const [taskDesc, setTaskDesc] = useState('');\n  const [taskDue, setTaskDue] = useState('');\n  const [taskPriority, setTaskPriority] = useState('medium');\n  const [taskProject, setTaskProject] = useState('');\n  const [taskMembers, setTaskMembers] = useState([]);\n  const [taskFiles, setTaskFiles] = useState([]);\n  const [creatingTask, setCreatingTask] = useState(false);\n\n  // Mapping id -> \"Prénom Nom\"\n  const userNameById = useMemo(() => {\n    const m = new Map();\n    for (const u of users) {\n      m.set(String(u._id), `${u.firstName || ''} ${u.lastName || ''}`.trim());\n    }\n    return m;\n  }, [users]);\n  const loadAll = async () => {\n    setLoading(true);\n    setError('');\n    try {\n      const [u, p, s, t, n] = await Promise.all([adminListUsers(), adminListProjects(), adminTeamStats(), adminListAllTasks(), listNotifications()]);\n      setUsers(u);\n      setProjects(p);\n      setStats(s);\n      setAllTasks(t);\n      setNotifications(n);\n    } catch (e) {\n      var _e$response, _e$response$data;\n      setError((e === null || e === void 0 ? void 0 : (_e$response = e.response) === null || _e$response === void 0 ? void 0 : (_e$response$data = _e$response.data) === null || _e$response$data === void 0 ? void 0 : _e$response$data.message) || (e === null || e === void 0 ? void 0 : e.message) || 'Erreur chargement admin');\n    } finally {\n      setLoading(false);\n    }\n  };\n  useEffect(() => {\n    loadAll();\n  }, []);\n  const resetTaskForm = () => {\n    setTaskTitle('');\n    setTaskDesc('');\n    setTaskDue('');\n    setTaskPriority('medium');\n    setTaskProject('');\n    setTaskMembers([]);\n    setTaskFiles([]);\n  };\n  const onCreateProjectTask = async e => {\n    e.preventDefault();\n    if (!taskTitle.trim() || !taskProject) {\n      showToast('danger', 'Veuillez renseigner le titre et le projet.');\n      return;\n    }\n    try {\n      setCreatingTask(true);\n      await adminCreateProjectTask({\n        title: taskTitle.trim(),\n        description: taskDesc.trim(),\n        dueDate: taskDue || undefined,\n        priority: taskPriority,\n        projectId: taskProject,\n        assignedTo: taskMembers,\n        files: Array.from(taskFiles || [])\n      });\n      showToast('success', 'Tâche créée avec succès.');\n      resetTaskForm();\n      await loadAll();\n    } catch (e) {\n      var _e$response2, _e$response2$data;\n      showToast('danger', (e === null || e === void 0 ? void 0 : (_e$response2 = e.response) === null || _e$response2 === void 0 ? void 0 : (_e$response2$data = _e$response2.data) === null || _e$response2$data === void 0 ? void 0 : _e$response2$data.message) || 'Erreur lors de la création de la tâche.');\n    } finally {\n      setCreatingTask(false);\n    }\n  };\n  const onCreateProject = async e => {\n    e.preventDefault();\n    try {\n      await adminCreateProject({\n        name: projName,\n        description: projDesc,\n        members: selectedMembers,\n        maxMembers,\n        startDate: projStart || undefined,\n        endDate: projEnd || undefined\n      });\n      setProjName('');\n      setProjDesc('');\n      setSelectedMembers([]);\n      setMaxMembers(10);\n      setProjStart('');\n      setProjEnd('');\n      await loadAll();\n    } catch (e) {\n      var _e$response3, _e$response3$data;\n      setError((e === null || e === void 0 ? void 0 : (_e$response3 = e.response) === null || _e$response3 === void 0 ? void 0 : (_e$response3$data = _e$response3.data) === null || _e$response3$data === void 0 ? void 0 : _e$response3$data.message) || 'Erreur création projet');\n    }\n  };\n  const onDeleteProject = async id => {\n    await adminDeleteProject(id);\n    await loadAll();\n  };\n  const onDeleteUser = async id => {\n    await adminDeleteUser(id);\n    await loadAll();\n  };\n  const onResetPwd = async id => {\n    const np = prompt('Nouveau mot de passe (min 6):');\n    if (!np) return;\n    await adminResetPassword(id, np);\n    alert('Mot de passe réinitialisé');\n  };\n  const openReview = (task, report) => {\n    const initial = typeof (task === null || task === void 0 ? void 0 : task.progress) === 'number' ? String(task.progress) : '';\n    setReview({\n      open: true,\n      task,\n      report,\n      progress: initial,\n      comment: '',\n      mode: 'approved'\n    });\n  };\n  const closeReview = () => setReview({\n    open: false,\n    task: null,\n    report: null,\n    progress: '',\n    comment: '',\n    mode: 'approved'\n  });\n  const confirmReview = async () => {\n    if (!review.task || !review.report) return;\n    if (review.mode === 'rejected') {\n      const c = String(review.comment || '').trim();\n      if (!c) {\n        showToast('danger', 'Un commentaire est requis pour refuser un compte-rendu.');\n        return;\n      }\n      try {\n        await adminReviewProgress(review.task._id, review.report._id, 'rejected', c);\n        showToast('success', 'Compte-rendu refusé avec succès.');\n      } catch (e) {\n        var _e$response4, _e$response4$data;\n        showToast('danger', (e === null || e === void 0 ? void 0 : (_e$response4 = e.response) === null || _e$response4 === void 0 ? void 0 : (_e$response4$data = _e$response4.data) === null || _e$response4$data === void 0 ? void 0 : _e$response4$data.message) || 'Erreur lors du refus.');\n      }\n    } else {\n      let pct = undefined;\n      if (review.progress !== '') {\n        const n = Number(review.progress);\n        if (!Number.isNaN(n)) pct = Math.max(0, Math.min(100, Math.round(n)));\n      }\n      try {\n        await adminReviewProgress(review.task._id, review.report._id, 'approved', review.comment || '', pct);\n        showToast('success', 'Avancement approuvé et progression mise à jour.');\n      } catch (e) {\n        var _e$response5, _e$response5$data;\n        showToast('danger', (e === null || e === void 0 ? void 0 : (_e$response5 = e.response) === null || _e$response5 === void 0 ? void 0 : (_e$response5$data = _e$response5.data) === null || _e$response5$data === void 0 ? void 0 : _e$response5$data.message) || 'Erreur lors de l\\'approbation.');\n      }\n    }\n    closeReview();\n    await loadAll();\n  };\n  const showToast = (type, message) => {\n    setToast({\n      show: true,\n      type,\n      message\n    });\n    // auto-hide après 3s\n    setTimeout(() => setToast(t => ({\n      ...t,\n      show: false\n    })), 3000);\n  };\n  return /*#__PURE__*/_jsxDEV(Layout, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container py-3\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"mb-3\",\n        children: \"Administration\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-3 d-flex justify-content-end\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-outline-primary\",\n          onClick: () => navigate('/dashboard'),\n          children: \"Retour \\xE0 l'espace utilisateur\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 188,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 9\n      }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"alert alert-danger\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 19\n      }, this), loading && /*#__PURE__*/_jsxDEV(\"div\", {\n        children: \"Chargement...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 21\n      }, this), stats && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row g-3 mb-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-md-3\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card p-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: \"Total\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 195,\n              columnNumber: 65\n            }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n              children: stats.total\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 195,\n              columnNumber: 81\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 195,\n            columnNumber: 39\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-md-3\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card p-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: \"Termin\\xE9es\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 196,\n              columnNumber: 65\n            }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n              children: stats.completed\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 196,\n              columnNumber: 85\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 196,\n            columnNumber: 39\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 196,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-md-3\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card p-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: \"Valid\\xE9es\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 197,\n              columnNumber: 65\n            }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n              children: stats.validated\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 197,\n              columnNumber: 84\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 197,\n            columnNumber: 39\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 197,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-md-3\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card p-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: \"Taux (%)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 198,\n              columnNumber: 65\n            }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n              children: stats.completionRate\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 198,\n              columnNumber: 84\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 198,\n            columnNumber: 39\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 198,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row g-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-md-6\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card p-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n              className: \"card-title mb-3\",\n              children: \"Utilisateurs\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 205,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n              className: \"list-group\",\n              children: users.map(u => /*#__PURE__*/_jsxDEV(\"li\", {\n                className: \"list-group-item d-flex justify-content-between align-items-center\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"fw-bold\",\n                    children: [u.firstName, \" \", u.lastName, \" \", u.role === 'admin' && /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"badge bg-primary ms-2\",\n                      children: \"admin\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 210,\n                      columnNumber: 98\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 210,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-muted small\",\n                    children: u.email\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 211,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 209,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"btn-group\",\n                  children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"btn btn-sm btn-outline-secondary\",\n                    onClick: () => onResetPwd(u._id),\n                    children: \"Reset MDP\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 214,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"btn btn-sm btn-outline-danger\",\n                    onClick: () => onDeleteUser(u._id),\n                    children: \"Supprimer\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 215,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 213,\n                  columnNumber: 21\n                }, this)]\n              }, u._id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 208,\n                columnNumber: 19\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 206,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 204,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 203,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-md-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card p-3 mb-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n              className: \"card-title mb-3\",\n              children: \"Cr\\xE9er un projet\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 224,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n              onSubmit: onCreateProject,\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mb-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"form-label\",\n                  children: \"Nom\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 227,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  className: \"form-control\",\n                  value: projName,\n                  onChange: e => setProjName(e.target.value),\n                  required: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 228,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 226,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mb-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"form-label\",\n                  children: \"Description\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 231,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n                  className: \"form-control\",\n                  value: projDesc,\n                  onChange: e => setProjDesc(e.target.value)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 232,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 230,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"row g-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"col\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    className: \"form-label\",\n                    children: \"D\\xE9but du projet\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 236,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"date\",\n                    className: \"form-control\",\n                    value: projStart,\n                    onChange: e => setProjStart(e.target.value)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 237,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 235,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"col\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    className: \"form-label\",\n                    children: \"Fin du projet\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 240,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"date\",\n                    className: \"form-control\",\n                    value: projEnd,\n                    onChange: e => setProjEnd(e.target.value)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 241,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 239,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 234,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mb-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"form-label\",\n                  children: \"Capacit\\xE9 (max membres)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 245,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"number\",\n                  min: 1,\n                  className: \"form-control\",\n                  value: maxMembers,\n                  onChange: e => setMaxMembers(parseInt(e.target.value || '1', 10))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 246,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 244,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mb-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"form-label\",\n                  children: \"Membres\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 249,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                  multiple: true,\n                  className: \"form-select\",\n                  value: selectedMembers,\n                  onChange: e => setSelectedMembers(Array.from(e.target.selectedOptions, o => o.value)),\n                  children: users.map(u => /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: u._id,\n                    children: [u.firstName, \" \", u.lastName, \" (\", u.email, \")\"]\n                  }, u._id, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 252,\n                    columnNumber: 23\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 250,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form-text\",\n                  children: [\"S\\xE9lectionnez jusqu'\\xE0 \", maxMembers, \" membres.\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 255,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 248,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn btn-primary\",\n                type: \"submit\",\n                children: \"Cr\\xE9er\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 257,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 225,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 223,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card p-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n              className: \"card-title mb-3\",\n              children: \"Cr\\xE9er une t\\xE2che de projet\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 262,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n              onSubmit: onCreateProjectTask,\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mb-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"form-label\",\n                  children: \"Projet\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 265,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                  className: \"form-select\",\n                  value: taskProject,\n                  onChange: e => {\n                    setTaskProject(e.target.value);\n                    setTaskMembers([]);\n                  },\n                  required: true,\n                  children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"\",\n                    children: \"Choisir un projet\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 267,\n                    columnNumber: 21\n                  }, this), projects.map(p => /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: p._id,\n                    children: p.name\n                  }, p._id, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 269,\n                    columnNumber: 23\n                  }, this))]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 266,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 264,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mb-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"form-label\",\n                  children: \"Titre\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 274,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  className: \"form-control\",\n                  value: taskTitle,\n                  onChange: e => setTaskTitle(e.target.value),\n                  required: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 275,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 273,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mb-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"form-label\",\n                  children: \"Description\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 278,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n                  className: \"form-control\",\n                  rows: 3,\n                  value: taskDesc,\n                  onChange: e => setTaskDesc(e.target.value),\n                  placeholder: \"D\\xE9taillez la t\\xE2che, livrables, etc.\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 279,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 277,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"row g-2 mb-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"col\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    className: \"form-label\",\n                    children: \"\\xC9ch\\xE9ance\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 283,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"date\",\n                    className: \"form-control\",\n                    value: taskDue,\n                    onChange: e => setTaskDue(e.target.value)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 284,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 282,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"col\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    className: \"form-label\",\n                    children: \"Priorit\\xE9\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 287,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                    className: \"form-select\",\n                    value: taskPriority,\n                    onChange: e => setTaskPriority(e.target.value),\n                    children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"low\",\n                      children: \"Basse\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 289,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"medium\",\n                      children: \"Moyenne\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 290,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"high\",\n                      children: \"Haute\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 291,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 288,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 286,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 281,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mb-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"form-label\",\n                  children: \"Assigner \\xE0\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 296,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                  multiple: true,\n                  className: \"form-select\",\n                  value: taskMembers,\n                  onChange: e => setTaskMembers(Array.from(e.target.selectedOptions, o => o.value)),\n                  disabled: !taskProject,\n                  children: (((_projects$find = projects.find(p => String(p._id) === String(taskProject))) === null || _projects$find === void 0 ? void 0 : _projects$find.members) || []).map(id => ({\n                    id: String(id),\n                    name: userNameById.get(String(id)) || String(id)\n                  })).map(opt => /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: opt.id,\n                    children: opt.name\n                  }, opt.id, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 301,\n                    columnNumber: 25\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 297,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form-text\",\n                  children: \"Vous pouvez s\\xE9lectionner plusieurs membres du projet.\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 304,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 295,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mb-3\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"form-label\",\n                  children: \"Pi\\xE8ces jointes (brief, specs) \\u2014 max 5, 5Mo chacune\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 307,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  className: \"form-control\",\n                  type: \"file\",\n                  multiple: true,\n                  onChange: e => setTaskFiles(e.target.files)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 308,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 306,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"d-flex gap-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"btn btn-success\",\n                  type: \"submit\",\n                  disabled: creatingTask,\n                  children: creatingTask ? 'Création...' : 'Créer la tâche'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 311,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"btn btn-secondary\",\n                  type: \"button\",\n                  onClick: resetTaskForm,\n                  disabled: creatingTask,\n                  children: \"R\\xE9initialiser\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 312,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 310,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 263,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 261,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 222,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card p-3 mt-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n          className: \"card-title mb-3\",\n          children: \"Notifications\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 320,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"d-flex justify-content-end gap-2 mb-2\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-sm btn-outline-danger\",\n            disabled: notifications.length === 0,\n            onClick: async () => {\n              if (!window.confirm('Supprimer toutes les notifications ?')) return;\n              await deleteAllNotifications();\n              setNotifications([]);\n            },\n            children: \"Tout supprimer\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 322,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 321,\n          columnNumber: 11\n        }, this), notifications.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-muted\",\n          children: \"Aucune notification\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 325,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"ul\", {\n          className: \"list-group mb-3\",\n          children: notifications.map(it => {\n            var _it$data, _it$data2, _it$data3, _it$data4;\n            return /*#__PURE__*/_jsxDEV(\"li\", {\n              className: \"list-group-item d-flex justify-content-between align-items-center\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"fw-bold\",\n                  children: it.title\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 331,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"small text-muted\",\n                  children: it.message\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 332,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"small\",\n                  children: [\"Par: \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: ((_it$data = it.data) === null || _it$data === void 0 ? void 0 : _it$data.userName) || ((_it$data2 = it.data) === null || _it$data2 === void 0 ? void 0 : _it$data2.assignedTo) || 'Inconnu'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 334,\n                    columnNumber: 28\n                  }, this), ' ', \"\\u2014 \", new Date(((_it$data3 = it.data) === null || _it$data3 === void 0 ? void 0 : _it$data3.at) || it.createdAt).toLocaleString('fr-FR')]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 333,\n                  columnNumber: 21\n                }, this), ((_it$data4 = it.data) === null || _it$data4 === void 0 ? void 0 : _it$data4.taskId) && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"small text-muted\",\n                  children: [\"T\\xE2che ID: \", it.data.taskId]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 338,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 330,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"d-flex align-items-center gap-2\",\n                children: [!it.read && /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"badge bg-danger\",\n                  children: \"Nouveau\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 342,\n                  columnNumber: 34\n                }, this), !it.read && /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"btn btn-sm btn-outline-primary\",\n                  onClick: async () => {\n                    await markNotificationRead(it._id);\n                    setNotifications(prev => prev.map(n => n._id === it._id ? {\n                      ...n,\n                      read: true\n                    } : n));\n                  },\n                  children: \"Marquer comme lue\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 343,\n                  columnNumber: 34\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"btn btn-sm btn-outline-danger\",\n                  onClick: async () => {\n                    if (!window.confirm('Supprimer cette notification ?')) return;\n                    await deleteNotification(it._id);\n                    setNotifications(prev => prev.filter(n => n._id !== it._id));\n                  },\n                  children: \"Supprimer\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 344,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 341,\n                columnNumber: 19\n              }, this)]\n            }, it._id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 329,\n              columnNumber: 17\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 327,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 319,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card p-3 mt-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n          className: \"card-title mb-3\",\n          children: \"Rapports d\\u2019avancement (toutes t\\xE2ches)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 353,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"table-responsive\",\n          children: /*#__PURE__*/_jsxDEV(\"table\", {\n            className: \"table table-sm align-middle\",\n            children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n              children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"T\\xE2che\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 358,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Assign\\xE9\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 359,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Contenu\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 360,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Pi\\xE8ces jointes\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 361,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Statut\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 362,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Action\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 363,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 357,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 356,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n              children: allTasks.flatMap(task => (task.progressReports || []).map(r => ({\n                task,\n                r\n              }))).map(({\n                task,\n                r\n              }) => /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                  style: {\n                    maxWidth: 240\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"fw-bold\",\n                    children: task.title\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 370,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-muted small\",\n                    children: task.projectId || 'Sans projet'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 371,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 369,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: Array.isArray(task.assignedTo) ? task.assignedTo.length > 1 ? `${task.assignedTo.length} utilisateurs` : userNameById.get(String(task.assignedTo[0])) || task.assignedTo[0] : userNameById.get(String(task.assignedTo)) || task.assignedTo || '-'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 373,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  style: {\n                    maxWidth: 280\n                  },\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"small\",\n                    title: r.content,\n                    children: r.content\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 374,\n                    columnNumber: 51\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 374,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: (r.attachments || []).length === 0 ? /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-muted small\",\n                    children: \"Aucune\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 377,\n                    columnNumber: 25\n                  }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"d-flex flex-column gap-1\",\n                    children: r.attachments.map(a => /*#__PURE__*/_jsxDEV(\"a\", {\n                      href: `http://localhost:5000${a.url}`,\n                      target: \"_blank\",\n                      rel: \"noreferrer\",\n                      className: \"small\",\n                      children: a.originalname\n                    }, a.url, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 381,\n                      columnNumber: 29\n                    }, this))\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 379,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 375,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: `badge bg-${r.status === 'approved' ? 'success' : r.status === 'rejected' ? 'danger' : 'secondary'}`,\n                    children: r.status\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 387,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 386,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: r.status === 'submitted' ? /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"btn-group btn-group-sm\",\n                    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                      className: \"btn btn-outline-success\",\n                      onClick: () => openReview(task, r),\n                      children: \"Approuver\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 392,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                      className: \"btn btn-outline-danger\",\n                      onClick: () => setReview({\n                        open: true,\n                        task,\n                        report: r,\n                        progress: '',\n                        comment: '',\n                        mode: 'rejected'\n                      }),\n                      children: \"Refuser\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 393,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 391,\n                    columnNumber: 25\n                  }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-muted small\",\n                    children: \"\\u2014\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 396,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 389,\n                  columnNumber: 21\n                }, this)]\n              }, `${task._id}-${r._id}`, true, {\n                fileName: _jsxFileName,\n                lineNumber: 368,\n                columnNumber: 19\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 366,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 355,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 354,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 352,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card p-3 mt-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n          className: \"card-title mb-3\",\n          children: \"Toutes les t\\xE2ches (assignation rapide)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 407,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"table-responsive\",\n          children: /*#__PURE__*/_jsxDEV(\"table\", {\n            className: \"table table-sm align-middle\",\n            children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n              children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Titre\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 412,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Projet\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 413,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Assign\\xE9e \\xE0\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 414,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Action\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 415,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 411,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 410,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n              children: allTasks.map(t => {\n                const assignees = Array.isArray(t.assignedTo) ? t.assignedTo : t.assignedTo ? [t.assignedTo] : [];\n                const currentAssignee = assignees.length > 0 ? String(assignees[0]) : '';\n                const names = assignees.map(id => userNameById.get(String(id)) || String(id));\n                const namesDisplay = names.length === 0 ? 'Non assignée' : names.length <= 3 ? names.join(', ') : `${names.slice(0, 3).join(', ')} +${names.length - 3}`;\n                return /*#__PURE__*/_jsxDEV(\"tr\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                    style: {\n                      maxWidth: 260\n                    },\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"fw-bold\",\n                      children: t.title\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 427,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"text-muted small\",\n                      children: t.description\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 428,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 426,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: t.projectId || '—'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 430,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: namesDisplay\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 431,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"d-flex align-items-center gap-2\",\n                      children: /*#__PURE__*/_jsxDEV(\"select\", {\n                        className: \"form-select form-select-sm\",\n                        value: currentAssignee,\n                        onChange: async e => {\n                          const val = e.target.value;\n                          if (!val) return;\n                          try {\n                            await adminAssignTask(t._id, val);\n                            await loadAll();\n                          } catch (err) {\n                            var _err$response, _err$response$data;\n                            alert((err === null || err === void 0 ? void 0 : (_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.message) || 'Erreur assignation');\n                          }\n                        },\n                        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                          value: \"\",\n                          children: \"Choisir un utilisateur\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 435,\n                          columnNumber: 29\n                        }, this), users.map(u => /*#__PURE__*/_jsxDEV(\"option\", {\n                          value: u._id,\n                          children: [u.firstName, \" \", u.lastName]\n                        }, u._id, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 437,\n                          columnNumber: 31\n                        }, this))]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 434,\n                        columnNumber: 27\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 433,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 432,\n                    columnNumber: 23\n                  }, this)]\n                }, t._id, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 425,\n                  columnNumber: 21\n                }, this);\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 418,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 409,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 408,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 406,\n        columnNumber: 9\n      }, this), editProject && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal\",\n        style: {\n          display: 'block',\n          backgroundColor: 'rgba(0,0,0,0.5)'\n        },\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-dialog\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"modal-content\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"modal-header\",\n              children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                className: \"modal-title\",\n                children: \"\\xC9diter le projet\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 455,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                className: \"btn-close\",\n                onClick: () => setEditProject(null)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 456,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 454,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"modal-body\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mb-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"form-label\",\n                  children: \"Nom\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 460,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  className: \"form-control\",\n                  value: editProject.name,\n                  onChange: e => setEditProject({\n                    ...editProject,\n                    name: e.target.value\n                  })\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 461,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 459,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mb-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"form-label\",\n                  children: \"Description\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 464,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n                  className: \"form-control\",\n                  value: editProject.description,\n                  onChange: e => setEditProject({\n                    ...editProject,\n                    description: e.target.value\n                  })\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 465,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 463,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mb-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"form-label\",\n                  children: \"Capacit\\xE9\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 468,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"number\",\n                  min: 1,\n                  className: \"form-control\",\n                  value: editProject.maxMembers,\n                  onChange: e => setEditProject({\n                    ...editProject,\n                    maxMembers: parseInt(e.target.value || '1', 10)\n                  })\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 469,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 467,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mb-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"form-label\",\n                  children: \"Membres\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 472,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                  multiple: true,\n                  className: \"form-select\",\n                  value: (editProject.members || []).map(String),\n                  onChange: e => setEditProject({\n                    ...editProject,\n                    members: Array.from(e.target.selectedOptions, o => o.value)\n                  }),\n                  children: users.map(u => /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: u._id,\n                    children: [u.firstName, \" \", u.lastName, \" (\", u.email, \")\"]\n                  }, u._id, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 475,\n                    columnNumber: 25\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 473,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 471,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 458,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"modal-footer\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn btn-secondary\",\n                onClick: () => setEditProject(null),\n                children: \"Annuler\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 481,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn btn-primary\",\n                onClick: async () => {\n                  try {\n                    // 1. MAJ membres/capacité\n                    await adminUpdateProjectMembers(editProject._id, {\n                      members: editProject.members,\n                      maxMembers: editProject.maxMembers\n                    });\n                    // 2. MAJ nom/desc\n                    await fetch(`http://localhost:5000/api/projects/${editProject._id}`, {\n                      method: 'PUT',\n                      headers: {\n                        'Content-Type': 'application/json',\n                        'Authorization': `Bearer ${localStorage.getItem('userToken')}`\n                      },\n                      body: JSON.stringify({\n                        name: editProject.name,\n                        description: editProject.description\n                      })\n                    });\n                    await loadAll();\n                    setEditProject(null);\n                  } catch (e) {\n                    var _e$response6, _e$response6$data;\n                    alert((e === null || e === void 0 ? void 0 : (_e$response6 = e.response) === null || _e$response6 === void 0 ? void 0 : (_e$response6$data = _e$response6.data) === null || _e$response6$data === void 0 ? void 0 : _e$response6$data.message) || 'Erreur mise à jour du projet');\n                  }\n                },\n                children: \"Enregistrer\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 482,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 480,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 453,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 452,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 451,\n        columnNumber: 11\n      }, this), review.open && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal\",\n        style: {\n          display: 'block',\n          backgroundColor: 'rgba(0,0,0,0.5)'\n        },\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-dialog\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"modal-content\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"modal-header\",\n              children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                className: \"modal-title\",\n                children: \"Valider l'avancement\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 513,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                className: \"btn-close\",\n                onClick: closeReview\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 514,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 512,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"modal-body\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mb-3\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"form-label\",\n                  children: \"Pourcentage de progression\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 518,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"number\",\n                  min: 0,\n                  max: 100,\n                  className: \"form-control\",\n                  value: review.progress,\n                  onChange: e => setReview({\n                    ...review,\n                    progress: e.target.value\n                  }),\n                  placeholder: \"0 - 100\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 519,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form-text\",\n                  children: \"Entrez une valeur entre 0 et 100.\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 520,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 517,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mb-3\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"form-label\",\n                  children: \"Commentaire (optionnel)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 523,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n                  className: \"form-control\",\n                  rows: 3,\n                  value: review.comment,\n                  onChange: e => setReview({\n                    ...review,\n                    comment: e.target.value\n                  })\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 524,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 522,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 516,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"modal-footer\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn btn-secondary\",\n                onClick: closeReview,\n                children: \"Annuler\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 528,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn btn-primary\",\n                onClick: confirmReview,\n                children: \"Valider\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 529,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 527,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 511,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 510,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 509,\n        columnNumber: 11\n      }, this), toast.show && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          position: 'fixed',\n          top: 16,\n          right: 16,\n          zIndex: 2000,\n          minWidth: 280\n        },\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `alert alert-${toast.type} alert-dismissible fade show shadow`,\n          role: \"alert\",\n          children: [toast.message, /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            className: \"btn-close\",\n            onClick: () => setToast({\n              ...toast,\n              show: false\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 541,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 539,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 538,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 184,\n    columnNumber: 5\n  }, this);\n};\n_s2(AdminPage, \"eMLV03MJU2f0mKiE5Y8VDtqRkYE=\", false, function () {\n  return [useNavigate];\n});\n_c2 = AdminPage;\nconst Admin = () => /*#__PURE__*/_jsxDEV(Guard, {\n  children: /*#__PURE__*/_jsxDEV(AdminPage, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 552,\n    columnNumber: 5\n  }, this)\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 551,\n  columnNumber: 3\n}, this);\n_c3 = Admin;\nexport default Admin;\nvar _c, _c2, _c3;\n$RefreshReg$(_c, \"Guard\");\n$RefreshReg$(_c2, \"AdminPage\");\n$RefreshReg$(_c3, \"Admin\");","map":{"version":3,"names":["React","useEffect","useMemo","useState","Layout","adminListUsers","adminDeleteUser","adminResetPassword","adminCreateProject","adminListProjects","adminDeleteProject","adminTeamStats","adminUpdateProjectMembers","adminListAllTasks","adminReviewProgress","adminAssignTask","listNotifications","markNotificationRead","deleteNotification","deleteAllNotifications","adminCreateProjectTask","useNavigate","jsxDEV","_jsxDEV","Guard","children","_s","user","JSON","parse","localStorage","getItem","role","className","fileName","_jsxFileName","lineNumber","columnNumber","_c","AdminPage","_s2","_projects$find","navigate","users","setUsers","projects","setProjects","stats","setStats","allTasks","setAllTasks","notifications","setNotifications","selectedMembers","setSelectedMembers","maxMembers","setMaxMembers","loading","setLoading","error","setError","projName","setProjName","projDesc","setProjDesc","projStart","setProjStart","projEnd","setProjEnd","editProject","setEditProject","review","setReview","open","task","report","progress","comment","mode","toast","setToast","show","type","message","taskTitle","setTaskTitle","taskDesc","setTaskDesc","taskDue","setTaskDue","taskPriority","setTaskPriority","taskProject","setTaskProject","taskMembers","setTaskMembers","taskFiles","setTaskFiles","creatingTask","setCreatingTask","userNameById","m","Map","u","set","String","_id","firstName","lastName","trim","loadAll","p","s","t","n","Promise","all","e","_e$response","_e$response$data","response","data","resetTaskForm","onCreateProjectTask","preventDefault","showToast","title","description","dueDate","undefined","priority","projectId","assignedTo","files","Array","from","_e$response2","_e$response2$data","onCreateProject","name","members","startDate","endDate","_e$response3","_e$response3$data","onDeleteProject","id","onDeleteUser","onResetPwd","np","prompt","alert","openReview","initial","closeReview","confirmReview","c","_e$response4","_e$response4$data","pct","Number","isNaN","Math","max","min","round","_e$response5","_e$response5$data","setTimeout","onClick","total","completed","validated","completionRate","map","email","onSubmit","value","onChange","target","required","parseInt","multiple","selectedOptions","o","rows","placeholder","disabled","find","get","opt","length","window","confirm","it","_it$data","_it$data2","_it$data3","_it$data4","userName","Date","at","createdAt","toLocaleString","taskId","read","prev","filter","flatMap","progressReports","r","style","maxWidth","isArray","content","attachments","a","href","url","rel","originalname","status","assignees","currentAssignee","names","namesDisplay","join","slice","val","err","_err$response","_err$response$data","display","backgroundColor","fetch","method","headers","body","stringify","_e$response6","_e$response6$data","position","top","right","zIndex","minWidth","_c2","Admin","_c3","$RefreshReg$"],"sources":["C:/Users/LENOVO/Documents/Task-Management-Application-main/frontend/src/pages/Admin.jsx"],"sourcesContent":["import React, { useEffect, useMemo, useState } from 'react';\r\nimport Layout from '../components/Layout';\r\nimport { adminListUsers, adminDeleteUser, adminResetPassword, adminCreateProject, adminListProjects, adminDeleteProject, adminTeamStats, adminUpdateProjectMembers, adminListAllTasks, adminReviewProgress, adminAssignTask, listNotifications, markNotificationRead, deleteNotification, deleteAllNotifications, adminCreateProjectTask } from '../services/api';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nconst Guard = ({ children }) => {\r\n  const user = useMemo(() => {\r\n    try { return JSON.parse(localStorage.getItem('userInfo')); } catch { return null; }\r\n  }, []);\r\n  if (!user || user.role !== 'admin') {\r\n    return <div className=\"container py-4\">Accès refusé</div>;\r\n  }\r\n  return children;\r\n};\r\n\r\nconst AdminPage = () => {\r\n  const navigate = useNavigate();\r\n  const [users, setUsers] = useState([]);\r\n  const [projects, setProjects] = useState([]);\r\n  const [stats, setStats] = useState(null);\r\n  const [allTasks, setAllTasks] = useState([]);\r\n  const [notifications, setNotifications] = useState([]);\r\n  const [selectedMembers, setSelectedMembers] = useState([]);\r\n  const [maxMembers, setMaxMembers] = useState(10);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState('');\r\n  const [projName, setProjName] = useState('');\r\n  const [projDesc, setProjDesc] = useState('');\r\n  const [projStart, setProjStart] = useState('');\r\n  const [projEnd, setProjEnd] = useState('');\r\n  const [editProject, setEditProject] = useState(null);\r\n  const [review, setReview] = useState({ open: false, task: null, report: null, progress: '', comment: '', mode: 'approved' });\r\n  const [toast, setToast] = useState({ show: false, type: 'success', message: '' });\r\n\r\n  // Etats du formulaire de création de tâche projet\r\n  const [taskTitle, setTaskTitle] = useState('');\r\n  const [taskDesc, setTaskDesc] = useState('');\r\n  const [taskDue, setTaskDue] = useState('');\r\n  const [taskPriority, setTaskPriority] = useState('medium');\r\n  const [taskProject, setTaskProject] = useState('');\r\n  const [taskMembers, setTaskMembers] = useState([]);\r\n  const [taskFiles, setTaskFiles] = useState([]);\r\n  const [creatingTask, setCreatingTask] = useState(false);\r\n\r\n  // Mapping id -> \"Prénom Nom\"\r\n  const userNameById = useMemo(() => {\r\n    const m = new Map();\r\n    for (const u of users) {\r\n      m.set(String(u._id), `${u.firstName || ''} ${u.lastName || ''}`.trim());\r\n    }\r\n    return m;\r\n  }, [users]);\r\n\r\n  const loadAll = async () => {\r\n    setLoading(true);\r\n    setError('');\r\n    try {\r\n      const [u, p, s, t, n] = await Promise.all([\r\n        adminListUsers(),\r\n        adminListProjects(),\r\n        adminTeamStats(),\r\n        adminListAllTasks(),\r\n        listNotifications(),\r\n      ]);\r\n      setUsers(u);\r\n      setProjects(p);\r\n      setStats(s);\r\n      setAllTasks(t);\r\n      setNotifications(n);\r\n    } catch (e) {\r\n      setError(e?.response?.data?.message || e?.message || 'Erreur chargement admin');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => { loadAll(); }, []);\r\n\r\n  const resetTaskForm = () => {\r\n    setTaskTitle('');\r\n    setTaskDesc('');\r\n    setTaskDue('');\r\n    setTaskPriority('medium');\r\n    setTaskProject('');\r\n    setTaskMembers([]);\r\n    setTaskFiles([]);\r\n  };\r\n\r\n  const onCreateProjectTask = async (e) => {\r\n    e.preventDefault();\r\n    if (!taskTitle.trim() || !taskProject) {\r\n      showToast('danger', 'Veuillez renseigner le titre et le projet.');\r\n      return;\r\n    }\r\n    try {\r\n      setCreatingTask(true);\r\n      await adminCreateProjectTask({\r\n        title: taskTitle.trim(),\r\n        description: taskDesc.trim(),\r\n        dueDate: taskDue || undefined,\r\n        priority: taskPriority,\r\n        projectId: taskProject,\r\n        assignedTo: taskMembers,\r\n        files: Array.from(taskFiles || [])\r\n      });\r\n      showToast('success', 'Tâche créée avec succès.');\r\n      resetTaskForm();\r\n      await loadAll();\r\n    } catch (e) {\r\n      showToast('danger', e?.response?.data?.message || 'Erreur lors de la création de la tâche.');\r\n    } finally {\r\n      setCreatingTask(false);\r\n    }\r\n  };\r\n\r\n  const onCreateProject = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      await adminCreateProject({ name: projName, description: projDesc, members: selectedMembers, maxMembers, startDate: projStart || undefined, endDate: projEnd || undefined });\r\n      setProjName('');\r\n      setProjDesc('');\r\n      setSelectedMembers([]);\r\n      setMaxMembers(10);\r\n      setProjStart('');\r\n      setProjEnd('');\r\n      await loadAll();\r\n    } catch (e) {\r\n      setError(e?.response?.data?.message || 'Erreur création projet');\r\n    }\r\n  };\r\n\r\n  const onDeleteProject = async (id) => { await adminDeleteProject(id); await loadAll(); };\r\n  const onDeleteUser = async (id) => { await adminDeleteUser(id); await loadAll(); };\r\n  const onResetPwd = async (id) => {\r\n    const np = prompt('Nouveau mot de passe (min 6):');\r\n    if (!np) return;\r\n    await adminResetPassword(id, np);\r\n    alert('Mot de passe réinitialisé');\r\n  };\r\n\r\n  const openReview = (task, report) => {\r\n    const initial = typeof task?.progress === 'number' ? String(task.progress) : '';\r\n    setReview({ open: true, task, report, progress: initial, comment: '', mode: 'approved' });\r\n  };\r\n  const closeReview = () => setReview({ open: false, task: null, report: null, progress: '', comment: '', mode: 'approved' });\r\n  const confirmReview = async () => {\r\n    if (!review.task || !review.report) return;\r\n    if (review.mode === 'rejected') {\r\n      const c = String(review.comment || '').trim();\r\n      if (!c) {\r\n        showToast('danger', 'Un commentaire est requis pour refuser un compte-rendu.');\r\n        return;\r\n      }\r\n      try {\r\n        await adminReviewProgress(review.task._id, review.report._id, 'rejected', c);\r\n        showToast('success', 'Compte-rendu refusé avec succès.');\r\n      } catch (e) {\r\n        showToast('danger', e?.response?.data?.message || 'Erreur lors du refus.');\r\n      }\r\n    } else {\r\n      let pct = undefined;\r\n      if (review.progress !== '') {\r\n        const n = Number(review.progress);\r\n        if (!Number.isNaN(n)) pct = Math.max(0, Math.min(100, Math.round(n)));\r\n      }\r\n      try {\r\n        await adminReviewProgress(review.task._id, review.report._id, 'approved', review.comment || '', pct);\r\n        showToast('success', 'Avancement approuvé et progression mise à jour.');\r\n      } catch (e) {\r\n        showToast('danger', e?.response?.data?.message || 'Erreur lors de l\\'approbation.');\r\n      }\r\n    }\r\n    closeReview();\r\n    await loadAll();\r\n  };\r\n\r\n  const showToast = (type, message) => {\r\n    setToast({ show: true, type, message });\r\n    // auto-hide après 3s\r\n    setTimeout(() => setToast((t) => ({ ...t, show: false })), 3000);\r\n  };\r\n\r\n  return (\r\n    <Layout>\r\n      <div className=\"container py-3\">\r\n        <h2 className=\"mb-3\">Administration</h2>\r\n        <div className=\"mb-3 d-flex justify-content-end\">\r\n          <button className=\"btn btn-outline-primary\" onClick={() => navigate('/dashboard')}>Retour à l'espace utilisateur</button>\r\n        </div>\r\n        {error && <div className=\"alert alert-danger\">{error}</div>}\r\n        {loading && <div>Chargement...</div>}\r\n\r\n        {stats && (\r\n          <div className=\"row g-3 mb-3\">\r\n            <div className=\"col-md-3\"><div className=\"card p-3\"><div>Total</div><h4>{stats.total}</h4></div></div>\r\n            <div className=\"col-md-3\"><div className=\"card p-3\"><div>Terminées</div><h4>{stats.completed}</h4></div></div>\r\n            <div className=\"col-md-3\"><div className=\"card p-3\"><div>Validées</div><h4>{stats.validated}</h4></div></div>\r\n            <div className=\"col-md-3\"><div className=\"card p-3\"><div>Taux (%)</div><h4>{stats.completionRate}</h4></div></div>\r\n          </div>\r\n        )}\r\n\r\n        <div className=\"row g-4\">\r\n          <div className=\"col-md-6\">\r\n            <div className=\"card p-3\">\r\n              <h5 className=\"card-title mb-3\">Utilisateurs</h5>\r\n              <ul className=\"list-group\">\r\n                {users.map(u => (\r\n                  <li key={u._id} className=\"list-group-item d-flex justify-content-between align-items-center\">\r\n                    <div>\r\n                      <div className=\"fw-bold\">{u.firstName} {u.lastName} {u.role === 'admin' && <span className=\"badge bg-primary ms-2\">admin</span>}</div>\r\n                      <div className=\"text-muted small\">{u.email}</div>\r\n                    </div>\r\n                    <div className=\"btn-group\">\r\n                      <button className=\"btn btn-sm btn-outline-secondary\" onClick={() => onResetPwd(u._id)}>Reset MDP</button>\r\n                      <button className=\"btn btn-sm btn-outline-danger\" onClick={() => onDeleteUser(u._id)}>Supprimer</button>\r\n                    </div>\r\n                  </li>\r\n                ))}\r\n              </ul>\r\n            </div>\r\n          </div>\r\n          <div className=\"col-md-6\">\r\n            <div className=\"card p-3 mb-3\">\r\n              <h5 className=\"card-title mb-3\">Créer un projet</h5>\r\n              <form onSubmit={onCreateProject}>\r\n                <div className=\"mb-2\">\r\n                  <label className=\"form-label\">Nom</label>\r\n                  <input className=\"form-control\" value={projName} onChange={(e) => setProjName(e.target.value)} required />\r\n                </div>\r\n                <div className=\"mb-2\">\r\n                  <label className=\"form-label\">Description</label>\r\n                  <textarea className=\"form-control\" value={projDesc} onChange={(e) => setProjDesc(e.target.value)} />\r\n                </div>\r\n                <div className=\"row g-2\">\r\n                  <div className=\"col\">\r\n                    <label className=\"form-label\">Début du projet</label>\r\n                    <input type=\"date\" className=\"form-control\" value={projStart} onChange={(e) => setProjStart(e.target.value)} />\r\n                  </div>\r\n                  <div className=\"col\">\r\n                    <label className=\"form-label\">Fin du projet</label>\r\n                    <input type=\"date\" className=\"form-control\" value={projEnd} onChange={(e) => setProjEnd(e.target.value)} />\r\n                  </div>\r\n                </div>\r\n                <div className=\"mb-2\">\r\n                  <label className=\"form-label\">Capacité (max membres)</label>\r\n                  <input type=\"number\" min={1} className=\"form-control\" value={maxMembers} onChange={(e) => setMaxMembers(parseInt(e.target.value || '1', 10))} />\r\n                </div>\r\n                <div className=\"mb-2\">\r\n                  <label className=\"form-label\">Membres</label>\r\n                  <select multiple className=\"form-select\" value={selectedMembers} onChange={(e) => setSelectedMembers(Array.from(e.target.selectedOptions, o => o.value))}>\r\n                    {users.map(u => (\r\n                      <option key={u._id} value={u._id}>{u.firstName} {u.lastName} ({u.email})</option>\r\n                    ))}\r\n                  </select>\r\n                  <div className=\"form-text\">Sélectionnez jusqu'à {maxMembers} membres.</div>\r\n                </div>\r\n                <button className=\"btn btn-primary\" type=\"submit\">Créer</button>\r\n              </form>\r\n            </div>\r\n            {/* Créer une tâche projet (avec pièces jointes) */}\r\n            <div className=\"card p-3\">\r\n              <h5 className=\"card-title mb-3\">Créer une tâche de projet</h5>\r\n              <form onSubmit={onCreateProjectTask}>\r\n                <div className=\"mb-2\">\r\n                  <label className=\"form-label\">Projet</label>\r\n                  <select className=\"form-select\" value={taskProject} onChange={(e) => { setTaskProject(e.target.value); setTaskMembers([]); }} required>\r\n                    <option value=\"\">Choisir un projet</option>\r\n                    {projects.map(p => (\r\n                      <option key={p._id} value={p._id}>{p.name}</option>\r\n                    ))}\r\n                  </select>\r\n                </div>\r\n                <div className=\"mb-2\">\r\n                  <label className=\"form-label\">Titre</label>\r\n                  <input className=\"form-control\" value={taskTitle} onChange={(e) => setTaskTitle(e.target.value)} required />\r\n                </div>\r\n                <div className=\"mb-2\">\r\n                  <label className=\"form-label\">Description</label>\r\n                  <textarea className=\"form-control\" rows={3} value={taskDesc} onChange={(e) => setTaskDesc(e.target.value)} placeholder=\"Détaillez la tâche, livrables, etc.\" />\r\n                </div>\r\n                <div className=\"row g-2 mb-2\">\r\n                  <div className=\"col\">\r\n                    <label className=\"form-label\">Échéance</label>\r\n                    <input type=\"date\" className=\"form-control\" value={taskDue} onChange={(e) => setTaskDue(e.target.value)} />\r\n                  </div>\r\n                  <div className=\"col\">\r\n                    <label className=\"form-label\">Priorité</label>\r\n                    <select className=\"form-select\" value={taskPriority} onChange={(e) => setTaskPriority(e.target.value)}>\r\n                      <option value=\"low\">Basse</option>\r\n                      <option value=\"medium\">Moyenne</option>\r\n                      <option value=\"high\">Haute</option>\r\n                    </select>\r\n                  </div>\r\n                </div>\r\n                <div className=\"mb-2\">\r\n                  <label className=\"form-label\">Assigner à</label>\r\n                  <select multiple className=\"form-select\" value={taskMembers} onChange={(e) => setTaskMembers(Array.from(e.target.selectedOptions, o => o.value))} disabled={!taskProject}>\r\n                    {(projects.find(p => String(p._id) === String(taskProject))?.members || [])\r\n                      .map(id => ({ id: String(id), name: userNameById.get(String(id)) || String(id) }))\r\n                      .map(opt => (\r\n                        <option key={opt.id} value={opt.id}>{opt.name}</option>\r\n                      ))}\r\n                  </select>\r\n                  <div className=\"form-text\">Vous pouvez sélectionner plusieurs membres du projet.</div>\r\n                </div>\r\n                <div className=\"mb-3\">\r\n                  <label className=\"form-label\">Pièces jointes (brief, specs) — max 5, 5Mo chacune</label>\r\n                  <input className=\"form-control\" type=\"file\" multiple onChange={(e) => setTaskFiles(e.target.files)} />\r\n                </div>\r\n                <div className=\"d-flex gap-2\">\r\n                  <button className=\"btn btn-success\" type=\"submit\" disabled={creatingTask}>{creatingTask ? 'Création...' : 'Créer la tâche'}</button>\r\n                  <button className=\"btn btn-secondary\" type=\"button\" onClick={resetTaskForm} disabled={creatingTask}>Réinitialiser</button>\r\n                </div>\r\n              </form>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"card p-3 mt-3\">\r\n          <h5 className=\"card-title mb-3\">Notifications</h5>\r\n          <div className=\"d-flex justify-content-end gap-2 mb-2\">\r\n            <button className=\"btn btn-sm btn-outline-danger\" disabled={notifications.length === 0} onClick={async () => { if (!window.confirm('Supprimer toutes les notifications ?')) return; await deleteAllNotifications(); setNotifications([]); }}>Tout supprimer</button>\r\n          </div>\r\n          {notifications.length === 0 ? (\r\n            <div className=\"text-muted\">Aucune notification</div>\r\n          ) : (\r\n            <ul className=\"list-group mb-3\">\r\n              {notifications.map((it) => (\r\n                <li key={it._id} className=\"list-group-item d-flex justify-content-between align-items-center\">\r\n                  <div>\r\n                    <div className=\"fw-bold\">{it.title}</div>\r\n                    <div className=\"small text-muted\">{it.message}</div>\r\n                    <div className=\"small\">\r\n                      Par: <strong>{it.data?.userName || it.data?.assignedTo || 'Inconnu'}</strong>\r\n                      {' '}— {new Date(it.data?.at || it.createdAt).toLocaleString('fr-FR')}\r\n                    </div>\r\n                    {it.data?.taskId && (\r\n                      <div className=\"small text-muted\">Tâche ID: {it.data.taskId}</div>\r\n                    )}\r\n                  </div>\r\n                  <div className=\"d-flex align-items-center gap-2\">\r\n                    {!it.read && <span className=\"badge bg-danger\">Nouveau</span>}\r\n                    {!it.read && <button className=\"btn btn-sm btn-outline-primary\" onClick={async () => { await markNotificationRead(it._id); setNotifications(prev => prev.map(n => n._id === it._id ? { ...n, read: true } : n)); }}>Marquer comme lue</button>}\r\n                    <button className=\"btn btn-sm btn-outline-danger\" onClick={async () => { if (!window.confirm('Supprimer cette notification ?')) return; await deleteNotification(it._id); setNotifications(prev => prev.filter(n => n._id !== it._id)); }}>Supprimer</button>\r\n                  </div>\r\n                </li>\r\n              ))}\r\n            </ul>\r\n          )}\r\n        </div>\r\n\r\n        <div className=\"card p-3 mt-3\">\r\n          <h5 className=\"card-title mb-3\">Rapports d’avancement (toutes tâches)</h5>\r\n          <div className=\"table-responsive\">\r\n            <table className=\"table table-sm align-middle\">\r\n              <thead>\r\n                <tr>\r\n                  <th>Tâche</th>\r\n                  <th>Assigné</th>\r\n                  <th>Contenu</th>\r\n                  <th>Pièces jointes</th>\r\n                  <th>Statut</th>\r\n                  <th>Action</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {allTasks.flatMap(task => (task.progressReports || []).map((r) => ({ task, r }))).map(({ task, r }) => (\r\n                  <tr key={`${task._id}-${r._id}`}>\r\n                    <td style={{ maxWidth: 240 }}>\r\n                      <div className=\"fw-bold\">{task.title}</div>\r\n                      <div className=\"text-muted small\">{task.projectId || 'Sans projet'}</div>\r\n                    </td>\r\n                    <td>{Array.isArray(task.assignedTo) ? (task.assignedTo.length > 1 ? `${task.assignedTo.length} utilisateurs` : (userNameById.get(String(task.assignedTo[0])) || task.assignedTo[0])) : (userNameById.get(String(task.assignedTo)) || task.assignedTo || '-')}</td>\r\n                    <td style={{ maxWidth: 280 }}><div className=\"small\" title={r.content}>{r.content}</div></td>\r\n                    <td>\r\n                      {(r.attachments || []).length === 0 ? (\r\n                        <span className=\"text-muted small\">Aucune</span>\r\n                      ) : (\r\n                        <div className=\"d-flex flex-column gap-1\">\r\n                          {r.attachments.map((a) => (\r\n                            <a key={a.url} href={`http://localhost:5000${a.url}`} target=\"_blank\" rel=\"noreferrer\" className=\"small\">{a.originalname}</a>\r\n                          ))}\r\n                        </div>\r\n                      )}\r\n                    </td>\r\n                    <td>\r\n                      <span className={`badge bg-${r.status === 'approved' ? 'success' : r.status === 'rejected' ? 'danger' : 'secondary'}`}>{r.status}</span>\r\n                    </td>\r\n                    <td>\r\n                      {r.status === 'submitted' ? (\r\n                        <div className=\"btn-group btn-group-sm\">\r\n                          <button className=\"btn btn-outline-success\" onClick={() => openReview(task, r)}>Approuver</button>\r\n                          <button className=\"btn btn-outline-danger\" onClick={() => setReview({ open: true, task, report: r, progress: '', comment: '', mode: 'rejected' })}>Refuser</button>\r\n                        </div>\r\n                      ) : (\r\n                        <span className=\"text-muted small\">—</span>\r\n                      )}\r\n                    </td>\r\n                  </tr>\r\n                ))}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"card p-3 mt-3\">\r\n          <h5 className=\"card-title mb-3\">Toutes les tâches (assignation rapide)</h5>\r\n          <div className=\"table-responsive\">\r\n            <table className=\"table table-sm align-middle\">\r\n              <thead>\r\n                <tr>\r\n                  <th>Titre</th>\r\n                  <th>Projet</th>\r\n                  <th>Assignée à</th>\r\n                  <th>Action</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {allTasks.map((t) => {\r\n                  const assignees = Array.isArray(t.assignedTo) ? t.assignedTo : (t.assignedTo ? [t.assignedTo] : []);\r\n                  const currentAssignee = assignees.length > 0 ? String(assignees[0]) : '';\r\n                  const names = assignees.map(id => userNameById.get(String(id)) || String(id));\r\n                  const namesDisplay = names.length === 0 ? 'Non assignée' : (names.length <= 3 ? names.join(', ') : `${names.slice(0,3).join(', ')} +${names.length-3}`);\r\n                  return (\r\n                    <tr key={t._id}>\r\n                      <td style={{ maxWidth: 260 }}>\r\n                        <div className=\"fw-bold\">{t.title}</div>\r\n                        <div className=\"text-muted small\">{t.description}</div>\r\n                      </td>\r\n                      <td>{t.projectId || '—'}</td>\r\n                      <td>{namesDisplay}</td>\r\n                      <td>\r\n                        <div className=\"d-flex align-items-center gap-2\">\r\n                          <select className=\"form-select form-select-sm\" value={currentAssignee} onChange={async (e) => { const val = e.target.value; if (!val) return; try { await adminAssignTask(t._id, val); await loadAll(); } catch (err) { alert(err?.response?.data?.message || 'Erreur assignation'); } }}>\r\n                            <option value=\"\">Choisir un utilisateur</option>\r\n                            {users.map(u => (\r\n                              <option key={u._id} value={u._id}>{u.firstName} {u.lastName}</option>\r\n                            ))}\r\n                          </select>\r\n                        </div>\r\n                      </td>\r\n                    </tr>\r\n                  );\r\n                })}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        </div>\r\n\r\n        {editProject && (\r\n          <div className=\"modal\" style={{ display: 'block', backgroundColor: 'rgba(0,0,0,0.5)' }}>\r\n            <div className=\"modal-dialog\">\r\n              <div className=\"modal-content\">\r\n                <div className=\"modal-header\">\r\n                  <h5 className=\"modal-title\">Éditer le projet</h5>\r\n                  <button type=\"button\" className=\"btn-close\" onClick={() => setEditProject(null)}></button>\r\n                </div>\r\n                <div className=\"modal-body\">\r\n                  <div className=\"mb-2\">\r\n                    <label className=\"form-label\">Nom</label>\r\n                    <input className=\"form-control\" value={editProject.name} onChange={(e) => setEditProject({ ...editProject, name: e.target.value })} />\r\n                  </div>\r\n                  <div className=\"mb-2\">\r\n                    <label className=\"form-label\">Description</label>\r\n                    <textarea className=\"form-control\" value={editProject.description} onChange={(e) => setEditProject({ ...editProject, description: e.target.value })} />\r\n                  </div>\r\n                  <div className=\"mb-2\">\r\n                    <label className=\"form-label\">Capacité</label>\r\n                    <input type=\"number\" min={1} className=\"form-control\" value={editProject.maxMembers} onChange={(e) => setEditProject({ ...editProject, maxMembers: parseInt(e.target.value || '1', 10) })} />\r\n                  </div>\r\n                  <div className=\"mb-2\">\r\n                    <label className=\"form-label\">Membres</label>\r\n                    <select multiple className=\"form-select\" value={(editProject.members || []).map(String)} onChange={(e) => setEditProject({ ...editProject, members: Array.from(e.target.selectedOptions, o => o.value) })}>\r\n                      {users.map(u => (\r\n                        <option key={u._id} value={u._id}>{u.firstName} {u.lastName} ({u.email})</option>\r\n                      ))}\r\n                    </select>\r\n                  </div>\r\n                </div>\r\n                <div className=\"modal-footer\">\r\n                  <button className=\"btn btn-secondary\" onClick={() => setEditProject(null)}>Annuler</button>\r\n                  <button className=\"btn btn-primary\" onClick={async () => {\r\n                    try {\r\n                      // 1. MAJ membres/capacité\r\n                      await adminUpdateProjectMembers(editProject._id, { members: editProject.members, maxMembers: editProject.maxMembers });\r\n                      // 2. MAJ nom/desc\r\n                      await fetch(`http://localhost:5000/api/projects/${editProject._id}`, {\r\n                        method: 'PUT',\r\n                        headers: {\r\n                          'Content-Type': 'application/json',\r\n                          'Authorization': `Bearer ${localStorage.getItem('userToken')}`\r\n                        },\r\n                        body: JSON.stringify({ name: editProject.name, description: editProject.description })\r\n                      });\r\n                      await loadAll();\r\n                      setEditProject(null);\r\n                    } catch (e) {\r\n                      alert(e?.response?.data?.message || 'Erreur mise à jour du projet');\r\n                    }\r\n                  }}>Enregistrer</button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* Modal Revue d'avancement */}\r\n        {review.open && (\r\n          <div className=\"modal\" style={{ display: 'block', backgroundColor: 'rgba(0,0,0,0.5)' }}>\r\n            <div className=\"modal-dialog\">\r\n              <div className=\"modal-content\">\r\n                <div className=\"modal-header\">\r\n                  <h5 className=\"modal-title\">Valider l'avancement</h5>\r\n                  <button type=\"button\" className=\"btn-close\" onClick={closeReview}></button>\r\n                </div>\r\n                <div className=\"modal-body\">\r\n                  <div className=\"mb-3\">\r\n                    <label className=\"form-label\">Pourcentage de progression</label>\r\n                    <input type=\"number\" min={0} max={100} className=\"form-control\" value={review.progress} onChange={(e) => setReview({ ...review, progress: e.target.value })} placeholder=\"0 - 100\" />\r\n                    <div className=\"form-text\">Entrez une valeur entre 0 et 100.</div>\r\n                  </div>\r\n                  <div className=\"mb-3\">\r\n                    <label className=\"form-label\">Commentaire (optionnel)</label>\r\n                    <textarea className=\"form-control\" rows={3} value={review.comment} onChange={(e) => setReview({ ...review, comment: e.target.value })} />\r\n                  </div>\r\n                </div>\r\n                <div className=\"modal-footer\">\r\n                  <button className=\"btn btn-secondary\" onClick={closeReview}>Annuler</button>\r\n                  <button className=\"btn btn-primary\" onClick={confirmReview}>Valider</button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* Toast notifications */}\r\n        {toast.show && (\r\n          <div style={{ position: 'fixed', top: 16, right: 16, zIndex: 2000, minWidth: 280 }}>\r\n            <div className={`alert alert-${toast.type} alert-dismissible fade show shadow`} role=\"alert\">\r\n              {toast.message}\r\n              <button type=\"button\" className=\"btn-close\" onClick={() => setToast({ ...toast, show: false })}></button>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </Layout>\r\n  );\r\n};\r\n\r\nconst Admin = () => (\r\n  <Guard>\r\n    <AdminPage />\r\n  </Guard>\r\n);\r\n\r\nexport default Admin;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}