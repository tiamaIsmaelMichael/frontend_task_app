{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\LENOVO\\\\Documents\\\\Task-Management-Application-main\\\\frontend\\\\src\\\\pages\\\\Dashboard.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState, useCallback } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport api from \"../services/api\";\nimport Layout from \"../components/Layout\";\nimport TaskForm from \"../components/TaskForm\";\nimport TaskList from \"../components/TaskList\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Dashboard = () => {\n  _s();\n  const [tasks, setTasks] = useState([]);\n  const [editingTask, setEditingTask] = useState(null);\n  const [filter, setFilter] = useState(\"all\");\n  const [section, setSection] = useState(\"personal\"); // personal | shared | assigned\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  // Pagination (pour plus de confort visuel)\n  const [page, setPage] = useState(1);\n  const itemsPerPage = 8;\n  const navigate = useNavigate();\n  const user = JSON.parse(localStorage.getItem(\"userInfo\"));\n  const fetchTasks = useCallback(async () => {\n    try {\n      setLoading(true);\n      setError(null);\n      const res = await api.get(\"/tasks\");\n      setTasks(res.data);\n    } catch (err) {\n      var _err$response;\n      console.error(\"Erreur lors du chargement des tâches :\", err);\n      setError(\"Impossible de charger les tâches. Veuillez réessayer.\");\n      if (((_err$response = err.response) === null || _err$response === void 0 ? void 0 : _err$response.status) === 401) {\n        handleLogout();\n      }\n    } finally {\n      setLoading(false);\n    }\n  }, []);\n  useEffect(() => {\n    let token = localStorage.getItem('userToken') || localStorage.getItem('token');\n    if (!token) {\n      try {\n        var _JSON$parse;\n        token = (_JSON$parse = JSON.parse(localStorage.getItem('userInfo') || '{}')) === null || _JSON$parse === void 0 ? void 0 : _JSON$parse.token;\n      } catch {}\n    }\n    if (!token) {\n      navigate(\"/login\");\n    } else {\n      fetchTasks();\n    }\n  }, [fetchTasks, navigate]);\n\n  // Repartir à la page 1 quand les filtres changent ou la liste varie\n  useEffect(() => {\n    setPage(1);\n  }, [filter, section, tasks.length]);\n  const handleLogout = () => {\n    localStorage.removeItem(\"userToken\");\n    localStorage.removeItem(\"userInfo\");\n    navigate(\"/login\");\n  };\n  const handleSubmit = async taskData => {\n    try {\n      setError(null);\n      if (editingTask) {\n        await api.put(`/tasks/${editingTask._id}`, taskData);\n        setEditingTask(null);\n      } else {\n        await api.post(\"/tasks\", taskData);\n      }\n      fetchTasks();\n    } catch (err) {\n      console.error(\"Erreur lors de la soumission de la tâche :\", err);\n      setError(\"Impossible de sauvegarder la tâche. Veuillez réessayer.\");\n    }\n  };\n  const toggleComplete = async (id, completed) => {\n    try {\n      setError(null);\n      // Optimistic update: update local state immediately\n      setTasks(prev => prev.map(t => t._id === id ? {\n        ...t,\n        completed\n      } : t));\n      await api.put(`/tasks/${id}`, {\n        completed\n      });\n      // Optionally refresh from server to stay in sync\n      // await fetchTasks();\n    } catch (err) {\n      console.error(\"Erreur lors du changement d'état de la tâche :\", err);\n      setError(\"Impossible de mettre à jour l'état de la tâche. Veuillez réessayer.\");\n      // Revert on error by refetching\n      fetchTasks();\n    }\n  };\n  const handleDelete = async id => {\n    if (!window.confirm(\"Confirmez-vous la suppression ?\")) return;\n    try {\n      setError(null);\n      await api.delete(`/tasks/${id}`);\n      // Optimistic update: remove task locally to update counters immediately\n      setTasks(prev => prev.filter(t => t._id !== id));\n      // Optionally refresh from server to confirm\n      // await fetchTasks();\n    } catch (err) {\n      console.error(\"Erreur lors de la suppression de la tâche :\", err);\n      setError(\"Impossible de supprimer la tâche. Veuillez réessayer.\");\n      // Re-sync state on error\n      fetchTasks();\n    }\n  };\n  const filteredTasks = tasks.filter(task => {\n    // Section\n    if (section === 'personal' && task.visibility !== 'personal') return false;\n    if (section === 'shared' && task.visibility !== 'shared') return false;\n    if (section === 'assigned' && String(task.assignedTo || '') !== String((user === null || user === void 0 ? void 0 : user.id) || (user === null || user === void 0 ? void 0 : user._id) || '')) return false;\n    if (filter === \"completed\") return task.completed;\n    if (filter === \"pending\") return !task.completed;\n    if (filter === \"assigned\") return String(task.assignedTo || '') === String((user === null || user === void 0 ? void 0 : user.id) || (user === null || user === void 0 ? void 0 : user._id) || '');\n    return true;\n  });\n\n  // Pagination sur la liste filtrée\n  const total = tasks.length;\n  const completed = tasks.filter(t => t.completed).length;\n  const pending = total - completed;\n  const totalPages = Math.max(1, Math.ceil(filteredTasks.length / itemsPerPage));\n  const start = (page - 1) * itemsPerPage;\n  const visibleTasks = filteredTasks.slice(start, start + itemsPerPage);\n  const currentUserId = String((user === null || user === void 0 ? void 0 : user.id) || (user === null || user === void 0 ? void 0 : user._id) || \"\");\n  const assignedToMe = tasks.filter(t => String(t.assignedTo || \"\") === currentUserId);\n  if (!user) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"Redirection vers la page de connexion...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 12\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(Layout, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container-fluid container-md mt-3 px-2 px-md-3\",\n      style: {\n        background: \"#ffffff\",\n        borderRadius: \"1rem\",\n        boxShadow: \"0 2px 16px rgba(35,41,70,0.06)\",\n        padding: \"1rem\",\n        minHeight: \"auto\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"mb-3 fw-bold text-center\",\n        style: {\n          color: \"#232946\",\n          letterSpacing: \"0.5px\",\n          fontSize: \"clamp(1.4rem, 3vw, 1.8rem)\"\n        },\n        children: \"ENREGISTREMENT DES TACHES\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 9\n      }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"alert alert-danger\",\n        role: \"alert\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card mb-3 shadow-sm\",\n        style: {\n          borderRadius: \"0.8rem\",\n          border: \"none\"\n        },\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card-body p-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n            className: \"card-title mb-3\",\n            style: {\n              color: \"#0d6efd\"\n            },\n            children: editingTask ? \"Modifier la tâche\" : \"Ajouter une tâche\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 172,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(TaskForm, {\n            onSubmit: handleSubmit,\n            initialData: editingTask,\n            onCancel: () => setEditingTask(null)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 175,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 171,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n          className: \"mb-3 py-2 shadow-sm text-center fw-bold\",\n          style: {\n            color: \"#232946\"\n          },\n          children: \"Mes T\\xE2ches\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 185,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"d-flex flex-wrap gap-2 mb-2\",\n          children: [{\n            k: 'personal',\n            l: 'Tâches perso'\n          }, {\n            k: 'shared',\n            l: 'Tâches partagées'\n          }, {\n            k: 'assigned',\n            l: 'Tâches assignées'\n          }].map(s => /*#__PURE__*/_jsxDEV(\"button\", {\n            className: `btn btn-sm ${section === s.k ? 'btn-success' : 'btn-outline-success'}`,\n            onClick: () => setSection(s.k),\n            children: s.l\n          }, s.k, false, {\n            fileName: _jsxFileName,\n            lineNumber: 188,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h6\", {\n          className: \"mb-2\",\n          style: {\n            color: \"#232946\"\n          },\n          children: \"Filtres\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 191,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"d-flex flex-wrap gap-2\",\n          children: [\"all\", \"pending\", \"completed\"].map(f => /*#__PURE__*/_jsxDEV(\"button\", {\n            className: `btn btn-sm ${filter === f ? 'btn-primary' : 'btn-outline-primary'}`,\n            onClick: () => setFilter(f),\n            children: f === 'all' ? 'Toutes' : f === 'pending' ? 'À faire' : 'Terminées'\n          }, f, false, {\n            fileName: _jsxFileName,\n            lineNumber: 194,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 9\n      }, this), loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center my-5\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"spinner-border text-primary\",\n          role: \"status\",\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"visually-hidden\",\n            children: \"Chargement...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 205,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 204,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-3\",\n          children: [/*#__PURE__*/_jsxDEV(TaskList, {\n            tasks: visibleTasks,\n            onToggleComplete: toggleComplete,\n            onEdit: setEditingTask,\n            onDelete: handleDelete,\n            currentUserId: (user === null || user === void 0 ? void 0 : user.id) || (user === null || user === void 0 ? void 0 : user._id)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 212,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"d-flex justify-content-between align-items-center mt-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"small text-muted\",\n              children: [\"Page \", page, \" / \", totalPages, \" \\u2014 \", filteredTasks.length, \" \\xE9l\\xE9ments\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 221,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"btn-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn btn-outline-secondary btn-sm\",\n                disabled: page <= 1,\n                onClick: () => setPage(p => Math.max(1, p - 1)),\n                children: \"Pr\\xE9c\\xE9dent\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 225,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn btn-outline-secondary btn-sm\",\n                disabled: page >= totalPages,\n                onClick: () => setPage(p => Math.min(totalPages, p + 1)),\n                children: \"Suivant\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 226,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 224,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 220,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 211,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"hr\", {\n          className: \"my-3\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 231,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n            className: \"mb-3 fw-bold text-center\",\n            style: {\n              color: \"#232946\"\n            },\n            children: \"Statistiques\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 235,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row g-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-12 col-sm-6 col-lg-4\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"card border-0 shadow-sm h-100\",\n                style: {\n                  background: \"#e3f0ff\"\n                },\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"card-body py-3\",\n                  children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n                    className: \"mb-1\",\n                    style: {\n                      color: \"#232946\"\n                    },\n                    children: \"Total\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 242,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"fw-bold fs-4\",\n                    style: {\n                      color: \"#0d6efd\"\n                    },\n                    children: total\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 243,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 241,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 240,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 239,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-12 col-sm-6 col-lg-4\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"card border-0 shadow-sm h-100\",\n                style: {\n                  background: \"#b1d9f5\"\n                },\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"card-body py-3\",\n                  children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n                    className: \"mb-1\",\n                    style: {\n                      color: \"#232946\"\n                    },\n                    children: \"Termin\\xE9es\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 250,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"fw-bold fs-4\",\n                    style: {\n                      color: \"#198754\"\n                    },\n                    children: completed\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 251,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 249,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 248,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 247,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-12 col-sm-6 col-lg-4\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"card border-0 shadow-sm h-100\",\n                style: {\n                  background: \"#fff\"\n                },\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"card-body py-3\",\n                  children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n                    className: \"mb-1\",\n                    style: {\n                      color: \"#232946\"\n                    },\n                    children: \"\\xC0 faire\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 258,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"fw-bold fs-4\",\n                    style: {\n                      color: \"#dc3545\"\n                    },\n                    children: pending\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 259,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 257,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 256,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 255,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 238,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 234,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n            className: \"mb-3 fw-bold\",\n            style: {\n              color: \"#232946\"\n            },\n            children: \"T\\xE2ches assign\\xE9es \\xE0 moi\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 268,\n            columnNumber: 15\n          }, this), assignedToMe.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-muted\",\n            children: \"Aucune t\\xE2che assign\\xE9e.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 270,\n            columnNumber: 17\n          }, this) : /*#__PURE__*/_jsxDEV(\"ul\", {\n            className: \"list-group\",\n            children: assignedToMe.map(t => /*#__PURE__*/_jsxDEV(\"li\", {\n              className: \"list-group-item d-flex justify-content-between align-items-center\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"fw-semibold\",\n                  children: t.title\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 276,\n                  columnNumber: 25\n                }, this), t.description && /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-muted\",\n                  children: [\" \\u2014 \", t.description]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 277,\n                  columnNumber: 43\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 275,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: `badge ${t.participationStatus === 'accepted' ? 'bg-success' : t.participationStatus === 'declined' ? 'bg-danger' : 'bg-secondary'}`,\n                children: t.participationStatus || 'pending'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 279,\n                columnNumber: 23\n              }, this)]\n            }, t._id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 274,\n              columnNumber: 21\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 272,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 267,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n            className: \"mb-3 text-center\",\n            style: {\n              color: \"#232946\"\n            },\n            children: \"Historique des t\\xE2ches termin\\xE9es\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 288,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card border-0 shadow-sm\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"card-body p-0\",\n              children: /*#__PURE__*/_jsxDEV(\"ul\", {\n                className: \"list-group list-group-flush\",\n                children: tasks.filter(t => t.completed).length === 0 ? /*#__PURE__*/_jsxDEV(\"li\", {\n                  className: \"list-group-item text-muted text-center py-4\",\n                  children: \"Aucune t\\xE2che termin\\xE9e.\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 295,\n                  columnNumber: 23\n                }, this) : tasks.filter(t => t.completed).map(t => /*#__PURE__*/_jsxDEV(\"li\", {\n                  className: \"list-group-item\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"d-flex flex-column flex-md-row justify-content-between align-items-start gap-2\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"fw-semibold\",\n                        children: t.title\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 305,\n                        columnNumber: 33\n                      }, this), t.description && /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"text-muted d-block d-md-inline\",\n                        children: [\" \\u2014 \", t.description]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 307,\n                        columnNumber: 35\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 304,\n                      columnNumber: 31\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"small text-secondary\",\n                      children: new Date(t.createdAt).toLocaleString()\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 310,\n                      columnNumber: 31\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 303,\n                    columnNumber: 29\n                  }, this)\n                }, t._id, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 302,\n                  columnNumber: 27\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 293,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 292,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 291,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 287,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 138,\n    columnNumber: 5\n  }, this);\n};\n_s(Dashboard, \"h7JFtZimn5BWGZsQjYq3BuO8aD4=\", false, function () {\n  return [useNavigate];\n});\n_c = Dashboard;\nexport default Dashboard;\nvar _c;\n$RefreshReg$(_c, \"Dashboard\");","map":{"version":3,"names":["React","useEffect","useState","useCallback","useNavigate","api","Layout","TaskForm","TaskList","jsxDEV","_jsxDEV","Fragment","_Fragment","Dashboard","_s","tasks","setTasks","editingTask","setEditingTask","filter","setFilter","section","setSection","loading","setLoading","error","setError","page","setPage","itemsPerPage","navigate","user","JSON","parse","localStorage","getItem","fetchTasks","res","get","data","err","_err$response","console","response","status","handleLogout","token","_JSON$parse","length","removeItem","handleSubmit","taskData","put","_id","post","toggleComplete","id","completed","prev","map","t","handleDelete","window","confirm","delete","filteredTasks","task","visibility","String","assignedTo","total","pending","totalPages","Math","max","ceil","start","visibleTasks","slice","currentUserId","assignedToMe","children","fileName","_jsxFileName","lineNumber","columnNumber","className","style","background","borderRadius","boxShadow","padding","minHeight","color","letterSpacing","fontSize","role","border","onSubmit","initialData","onCancel","k","l","s","onClick","f","onToggleComplete","onEdit","onDelete","disabled","p","min","title","description","participationStatus","Date","createdAt","toLocaleString","_c","$RefreshReg$"],"sources":["C:/Users/LENOVO/Documents/Task-Management-Application-main/frontend/src/pages/Dashboard.jsx"],"sourcesContent":["import React, { useEffect, useState, useCallback } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport api from \"../services/api\";\nimport Layout from \"../components/Layout\";\nimport TaskForm from \"../components/TaskForm\";\nimport TaskList from \"../components/TaskList\";\n\nconst Dashboard = () => {\n  const [tasks, setTasks] = useState([]);\n  const [editingTask, setEditingTask] = useState(null);\n  const [filter, setFilter] = useState(\"all\");\n  const [section, setSection] = useState(\"personal\"); // personal | shared | assigned\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  // Pagination (pour plus de confort visuel)\n  const [page, setPage] = useState(1);\n  const itemsPerPage = 8;\n  const navigate = useNavigate();\n\n  const user = JSON.parse(localStorage.getItem(\"userInfo\"));\n\n  const fetchTasks = useCallback(async () => {\n    try {\n      setLoading(true);\n      setError(null);\n      const res = await api.get(\"/tasks\");\n      setTasks(res.data);\n    } catch (err) {\n      console.error(\"Erreur lors du chargement des tâches :\", err);\n      setError(\"Impossible de charger les tâches. Veuillez réessayer.\");\n      if (err.response?.status === 401) {\n        handleLogout();\n      }\n    } finally {\n      setLoading(false);\n    }\n  }, []);\n\nuseEffect(() => {\n  let token = localStorage.getItem('userToken') || localStorage.getItem('token');\n  if (!token) {\n    try { token = JSON.parse(localStorage.getItem('userInfo') || '{}')?.token; } catch {}\n  }\n  if (!token) {\n    navigate(\"/login\");\n  } else {\n    fetchTasks();\n  }\n}, [fetchTasks, navigate]);\n\n  // Repartir à la page 1 quand les filtres changent ou la liste varie\n  useEffect(() => { setPage(1); }, [filter, section, tasks.length]);\n\n  const handleLogout = () => {\n    localStorage.removeItem(\"userToken\");\n    localStorage.removeItem(\"userInfo\");\n    navigate(\"/login\");\n  };\n\n  const handleSubmit = async (taskData) => {\n    try {\n      setError(null);\n      if (editingTask) {\n        await api.put(`/tasks/${editingTask._id}`, taskData);\n        setEditingTask(null);\n      } else {\n        await api.post(\"/tasks\", taskData);\n      }\n      fetchTasks();\n    } catch (err) {\n      console.error(\"Erreur lors de la soumission de la tâche :\", err);\n      setError(\"Impossible de sauvegarder la tâche. Veuillez réessayer.\");\n    }\n  };\n\n  const toggleComplete = async (id, completed) => {\n    try {\n      setError(null);\n      // Optimistic update: update local state immediately\n      setTasks((prev) => prev.map(t => t._id === id ? { ...t, completed } : t));\n      await api.put(`/tasks/${id}`, { completed });\n      // Optionally refresh from server to stay in sync\n      // await fetchTasks();\n    } catch (err) {\n      console.error(\"Erreur lors du changement d'état de la tâche :\", err);\n      setError(\n        \"Impossible de mettre à jour l'état de la tâche. Veuillez réessayer.\"\n      );\n      // Revert on error by refetching\n      fetchTasks();\n    }\n  };\n\n  const handleDelete = async (id) => {\n    if (!window.confirm(\"Confirmez-vous la suppression ?\")) return;\n    try {\n      setError(null);\n      await api.delete(`/tasks/${id}`);\n      // Optimistic update: remove task locally to update counters immediately\n      setTasks((prev) => prev.filter((t) => t._id !== id));\n      // Optionally refresh from server to confirm\n      // await fetchTasks();\n    } catch (err) {\n      console.error(\"Erreur lors de la suppression de la tâche :\", err);\n      setError(\"Impossible de supprimer la tâche. Veuillez réessayer.\");\n      // Re-sync state on error\n      fetchTasks();\n    }\n  };\n\n  const filteredTasks = tasks.filter((task) => {\n    // Section\n    if (section === 'personal' && task.visibility !== 'personal') return false;\n    if (section === 'shared' && task.visibility !== 'shared') return false;\n    if (section === 'assigned' && String(task.assignedTo || '') !== String(user?.id || user?._id || '')) return false;\n    if (filter === \"completed\") return task.completed;\n    if (filter === \"pending\") return !task.completed;\n    if (filter === \"assigned\") return String(task.assignedTo || '') === String(user?.id || user?._id || '');\n    return true;\n  });\n\n  // Pagination sur la liste filtrée\n  const total = tasks.length;\n  const completed = tasks.filter((t) => t.completed).length;\n  const pending = total - completed;\n  const totalPages = Math.max(1, Math.ceil(filteredTasks.length / itemsPerPage));\n  const start = (page - 1) * itemsPerPage;\n  const visibleTasks = filteredTasks.slice(start, start + itemsPerPage);\n\n  const currentUserId = String(user?.id || user?._id || \"\");\n  const assignedToMe = tasks.filter((t) => String(t.assignedTo || \"\") === currentUserId);\n\n  if (!user) {\n    return <div>Redirection vers la page de connexion...</div>;\n  }\n\n  return (\n    <Layout>\n      <div\n        className=\"container-fluid container-md mt-3 px-2 px-md-3\"\n        style={{\n          background: \"#ffffff\",\n          borderRadius: \"1rem\",\n          boxShadow: \"0 2px 16px rgba(35,41,70,0.06)\",\n          padding: \"1rem\",\n          minHeight: \"auto\",\n        }}\n      >\n        <h1\n          className=\"mb-3 fw-bold text-center\"\n          style={{\n            color: \"#232946\",\n            letterSpacing: \"0.5px\",\n            fontSize: \"clamp(1.4rem, 3vw, 1.8rem)\",\n          }}\n        >\n          ENREGISTREMENT DES TACHES\n        </h1>\n\n        {error && (\n          <div className=\"alert alert-danger\" role=\"alert\">\n            {error}\n          </div>\n        )}\n\n        {/* Formulaire d'ajout/modification */}\n        <div\n          className=\"card mb-3 shadow-sm\"\n          style={{ borderRadius: \"0.8rem\", border: \"none\" }}\n        >\n          <div className=\"card-body p-3\">\n            <h5 className=\"card-title mb-3\" style={{ color: \"#0d6efd\" }}>\n              {editingTask ? \"Modifier la tâche\" : \"Ajouter une tâche\"}\n            </h5>\n            <TaskForm\n              onSubmit={handleSubmit}\n              initialData={editingTask}\n              onCancel={() => setEditingTask(null)}\n            />\n          </div>\n        </div>\n\n        {/* Sections & Filtres (compacts) */}\n        <div className=\"mb-3\">\n          <h6 className=\"mb-3 py-2 shadow-sm text-center fw-bold\" style={{ color: \"#232946\" }}>Mes Tâches</h6>\n          <div className=\"d-flex flex-wrap gap-2 mb-2\">\n            {[{k:'personal',l:'Tâches perso'},{k:'shared',l:'Tâches partagées'},{k:'assigned',l:'Tâches assignées'}].map(s => (\n              <button key={s.k} className={`btn btn-sm ${section===s.k? 'btn-success':'btn-outline-success'}`} onClick={()=>setSection(s.k)}>{s.l}</button>\n            ))}\n          </div>\n          <h6 className=\"mb-2\" style={{ color: \"#232946\" }}>Filtres</h6>\n          <div className=\"d-flex flex-wrap gap-2\">\n            {[\"all\", \"pending\", \"completed\"].map((f) => (\n              <button key={f} className={`btn btn-sm ${filter===f? 'btn-primary':'btn-outline-primary'}`} onClick={()=>setFilter(f)}>\n                {f === 'all' ? 'Toutes' : f === 'pending' ? 'À faire' : 'Terminées'}\n              </button>\n            ))}\n          </div>\n        </div>\n\n        {/* État du chargement */}\n        {loading ? (\n          <div className=\"text-center my-5\">\n            <div className=\"spinner-border text-primary\" role=\"status\">\n              <span className=\"visually-hidden\">Chargement...</span>\n            </div>\n          </div>\n        ) : (\n          <>\n            {/* Liste des tâches paginée */}\n            <div className=\"mb-3\">\n              <TaskList\n                tasks={visibleTasks}\n                onToggleComplete={toggleComplete}\n                onEdit={setEditingTask}\n                onDelete={handleDelete}\n                currentUserId={user?.id || user?._id}\n              />\n              {/* Pagination controls */}\n              <div className=\"d-flex justify-content-between align-items-center mt-3\">\n                <div className=\"small text-muted\">\n                  Page {page} / {totalPages} — {filteredTasks.length} éléments\n                </div>\n                <div className=\"btn-group\">\n                  <button className=\"btn btn-outline-secondary btn-sm\" disabled={page<=1} onClick={()=>setPage(p=>Math.max(1,p-1))}>Précédent</button>\n                  <button className=\"btn btn-outline-secondary btn-sm\" disabled={page>=totalPages} onClick={()=>setPage(p=>Math.min(totalPages,p+1))}>Suivant</button>\n                </div>\n              </div>\n            </div>\n\n            <hr className=\"my-3\" />\n\n            {/* Statistiques (compactes) */}\n            <div className=\"mb-3\">\n              <h6 className=\"mb-3 fw-bold text-center\" style={{ color: \"#232946\" }}>\n                Statistiques\n              </h6>\n              <div className=\"row g-3\">\n                <div className=\"col-12 col-sm-6 col-lg-4\">\n                  <div className=\"card border-0 shadow-sm h-100\" style={{ background: \"#e3f0ff\" }}>\n                    <div className=\"card-body py-3\">\n                      <h6 className=\"mb-1\" style={{ color: \"#232946\" }}>Total</h6>\n                      <span className=\"fw-bold fs-4\" style={{ color: \"#0d6efd\" }}>{total}</span>\n                    </div>\n                  </div>\n                </div>\n                <div className=\"col-12 col-sm-6 col-lg-4\">\n                  <div className=\"card border-0 shadow-sm h-100\" style={{ background: \"#b1d9f5\" }}>\n                    <div className=\"card-body py-3\">\n                      <h6 className=\"mb-1\" style={{ color: \"#232946\" }}>Terminées</h6>\n                      <span className=\"fw-bold fs-4\" style={{ color: \"#198754\" }}>{completed}</span>\n                    </div>\n                  </div>\n                </div>\n                <div className=\"col-12 col-sm-6 col-lg-4\">\n                  <div className=\"card border-0 shadow-sm h-100\" style={{ background: \"#fff\" }}>\n                    <div className=\"card-body py-3\">\n                      <h6 className=\"mb-1\" style={{ color: \"#232946\" }}>À faire</h6>\n                      <span className=\"fw-bold fs-4\" style={{ color: \"#dc3545\" }}>{pending}</span>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n\n            {/* Assignées à moi (raccourci) */}\n            <div className=\"mb-3\">\n              <h6 className=\"mb-3 fw-bold\" style={{ color: \"#232946\" }}>Tâches assignées à moi</h6>\n              {assignedToMe.length === 0 ? (\n                <div className=\"text-muted\">Aucune tâche assignée.</div>\n              ) : (\n                <ul className=\"list-group\">\n                  {assignedToMe.map((t) => (\n                    <li key={t._id} className=\"list-group-item d-flex justify-content-between align-items-center\">\n                      <div>\n                        <span className=\"fw-semibold\">{t.title}</span>\n                        {t.description && <span className=\"text-muted\"> — {t.description}</span>}\n                      </div>\n                      <span className={`badge ${t.participationStatus === 'accepted' ? 'bg-success' : t.participationStatus === 'declined' ? 'bg-danger' : 'bg-secondary'}`}>{t.participationStatus || 'pending'}</span>\n                    </li>\n                  ))}\n                </ul>\n              )}\n            </div>\n\n            {/* Historique */}\n            <div className=\"mb-3\">\n              <h6 className=\"mb-3 text-center\" style={{ color: \"#232946\" }}>\n                Historique des tâches terminées\n              </h6>\n              <div className=\"card border-0 shadow-sm\">\n                <div className=\"card-body p-0\">\n                  <ul className=\"list-group list-group-flush\">\n                    {tasks.filter((t) => t.completed).length === 0 ? (\n                      <li className=\"list-group-item text-muted text-center py-4\">\n                        Aucune tâche terminée.\n                      </li>\n                    ) : (\n                      tasks\n                        .filter((t) => t.completed)\n                        .map((t) => (\n                          <li key={t._id} className=\"list-group-item\">\n                            <div className=\"d-flex flex-column flex-md-row justify-content-between align-items-start gap-2\">\n                              <div>\n                                <span className=\"fw-semibold\">{t.title}</span>\n                                {t.description && (\n                                  <span className=\"text-muted d-block d-md-inline\"> — {t.description}</span>\n                                )}\n                              </div>\n                              <span className=\"small text-secondary\">{new Date(t.createdAt).toLocaleString()}</span>\n                            </div>\n                          </li>\n                        ))\n                    )}\n                  </ul>\n                </div>\n              </div>\n            </div>\n          </>\n        )}\n      </div>\n    </Layout>\n  );\n};\n\nexport default Dashboard;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}