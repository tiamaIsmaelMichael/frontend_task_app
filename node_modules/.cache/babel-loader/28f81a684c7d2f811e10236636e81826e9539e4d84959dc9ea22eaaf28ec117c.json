{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\LENOVO\\\\Documents\\\\Task-Management-Application-main\\\\frontend\\\\src\\\\components\\\\Sidebar.jsx\",\n  _s = $RefreshSig$();\nimport React, { useContext, useState, useEffect } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport \"./Sidebar.css\";\nimport { uploadAvatar, updateProfile, BACKEND_ORIGIN } from \"../services/api\";\nimport { ThemeContext } from \"../context/ThemeContext\";\nimport { listNotifications } from \"../services/api\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Sidebar = ({\n  mobileOpen = false,\n  onMobileClose\n}) => {\n  _s();\n  const [isOpen, setIsOpen] = useState(false);\n  const [isMobile, setIsMobile] = useState(false);\n  const [showModal, setShowModal] = useState(false);\n  const [firstName, setFirstName] = useState(\"\");\n  const [lastName, setLastName] = useState(\"\");\n  const [avatarUrl, setAvatarUrl] = useState(\"\");\n  const [preview, setPreview] = useState(\"\");\n  const [saving, setSaving] = useState(false);\n  const [error, setError] = useState(\"\");\n  const [user, setUser] = useState(null);\n  const [unread, setUnread] = useState(0);\n  const navigate = useNavigate();\n  const {\n    theme,\n    setTheme,\n    themes\n  } = useContext(ThemeContext);\n\n  // Detect small screens to alter behavior (no hover on mobile)\n  useEffect(() => {\n    const handleResize = () => {\n      try {\n        const m = window.matchMedia && window.matchMedia('(max-width: 576px)').matches;\n        setIsMobile(!!m);\n      } catch {\n        setIsMobile(false);\n      }\n    };\n    handleResize();\n    window.addEventListener('resize', handleResize);\n    return () => window.removeEventListener('resize', handleResize);\n  }, []);\n  useEffect(() => {\n    try {\n      const u = JSON.parse(localStorage.getItem(\"userInfo\"));\n      setUser(u || null);\n      if (u) {\n        setFirstName(u.firstName || \"\");\n        setLastName(u.lastName || \"\");\n        const avatar = u.avatarUrl ? /^https?:\\/\\//i.test(u.avatarUrl) ? u.avatarUrl : `${BACKEND_ORIGIN}${u.avatarUrl}` : \"\";\n        setPreview(avatar);\n        setAvatarUrl(u.avatarUrl || \"\");\n      }\n      // premier chargement du compteur si admin\n      (async () => {\n        try {\n          if ((u === null || u === void 0 ? void 0 : u.role) === 'admin') {\n            const items = await listNotifications();\n            setUnread(items.filter(it => !it.read).length);\n          } else {\n            setUnread(0);\n          }\n        } catch {\n          setUnread(0);\n        }\n      })();\n    } catch {\n      setUser(null);\n      setUnread(0);\n    }\n  }, []);\n\n  // Polling périodique pour actualiser dynamiquement le badge admin\n  useEffect(() => {\n    if (!user || user.role !== 'admin') return;\n    let cancelled = false;\n    const tick = async () => {\n      try {\n        const items = await listNotifications();\n        if (!cancelled) setUnread(items.filter(it => !it.read).length);\n      } catch {\n        if (!cancelled) setUnread(0);\n      }\n    };\n    const id = setInterval(tick, 30000); // 30s\n    // lancer un tick immédiat à l'ouverture\n    tick();\n    return () => {\n      cancelled = true;\n      clearInterval(id);\n    };\n  }, [user === null || user === void 0 ? void 0 : user.role]);\n  const handleLogout = () => {\n    localStorage.removeItem(\"userInfo\");\n    localStorage.removeItem(\"userToken\");\n    navigate(\"/login\");\n  };\n  const onFileChange = async e => {\n    try {\n      var _e$target$files;\n      setError(\"\");\n      const file = (_e$target$files = e.target.files) === null || _e$target$files === void 0 ? void 0 : _e$target$files[0];\n      if (!file) return;\n      const {\n        url\n      } = await uploadAvatar(file);\n      setAvatarUrl(url);\n      setPreview(/^https?:\\/\\//i.test(url) ? url : `${BACKEND_ORIGIN}${url}`);\n    } catch (err) {\n      var _err$response, _err$response$data;\n      const msg = (err === null || err === void 0 ? void 0 : (_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.message) || (err === null || err === void 0 ? void 0 : err.message) || \"Erreur lors de l'upload.\";\n      setError(msg);\n    }\n  };\n  const onSave = async e => {\n    e.preventDefault();\n    setSaving(true);\n    setError(\"\");\n    try {\n      const {\n        user: updated\n      } = await updateProfile({\n        firstName,\n        lastName,\n        avatarUrl\n      });\n      localStorage.setItem(\"userInfo\", JSON.stringify(updated));\n      setUser(updated);\n      // Refresh preview if avatar changed\n      const newPreview = updated.avatarUrl ? /^https?:\\/\\//i.test(updated.avatarUrl) ? updated.avatarUrl : `${BACKEND_ORIGIN}${updated.avatarUrl}` : \"\";\n      setPreview(newPreview);\n      setShowModal(false);\n    } catch (err) {\n      var _err$response2, _err$response2$data;\n      const msg = (err === null || err === void 0 ? void 0 : (_err$response2 = err.response) === null || _err$response2 === void 0 ? void 0 : (_err$response2$data = _err$response2.data) === null || _err$response2$data === void 0 ? void 0 : _err$response2$data.message) || (err === null || err === void 0 ? void 0 : err.message) || \"Erreur lors de la sauvegarde.\";\n      setError(msg);\n    } finally {\n      setSaving(false);\n    }\n  };\n  const effectiveOpen = isOpen && !isMobile || isMobile && mobileOpen;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `sidebar${effectiveOpen ? \" open\" : \"\"}`,\n    onMouseEnter: !isMobile ? () => setIsOpen(true) : undefined,\n    onMouseLeave: !isMobile ? () => setIsOpen(false) : undefined,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"content\",\n      children: user ? /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"d-flex flex-column align-items-center\",\n          children: [preview ? /*#__PURE__*/_jsxDEV(\"img\", {\n            src: preview,\n            alt: `Avatar de ${user.firstName} ${user.lastName}`,\n            className: \"avatar mb-2\",\n            style: {\n              objectFit: 'cover'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 143,\n            columnNumber: 17\n          }, this) : /*#__PURE__*/_jsxDEV(\"img\", {\n            src: `https://ui-avatars.com/api/?name=${encodeURIComponent(user.firstName + \" \" + user.lastName)}&background=198754&color=fff&size=128`,\n            alt: `Avatar de ${user.firstName} ${user.lastName}`,\n            className: \"avatar mb-2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 150,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"username\",\n            children: [user.firstName, \" \", user.lastName]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 158,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-white-50 small mb-2\",\n            children: user.email\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 161,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-sm btn-outline-light\",\n            onClick: () => setShowModal(true),\n            children: \"Modifier mon profil\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 162,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"divider\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-2 w-100 px-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"form-label text-white\",\n            children: \"Th\\xE8me\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 169,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            className: \"form-select form-select-sm\",\n            value: theme,\n            onChange: e => setTheme(e.target.value),\n            children: themes === null || themes === void 0 ? void 0 : themes.map(t => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: t,\n              children: t\n            }, t, false, {\n              fileName: _jsxFileName,\n              lineNumber: 172,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 170,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"divider\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 13\n        }, this), user.role === 'admin' && /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"d-flex flex-column align-items-center w-100 mb-2\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn btn-sm btn-warning w-100 admin-btn\",\n              onClick: () => navigate('/admin'),\n              children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"bi bi-shield-lock me-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 181,\n                columnNumber: 21\n              }, this), \"Admin \", unread > 0 && /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"badge bg-danger ms-2\",\n                children: unread\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 181,\n                columnNumber: 84\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 180,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 179,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"divider\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 184,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"logout-btn mb-2\",\n          onClick: handleLogout,\n          children: [/*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"bi bi-box-arrow-right me-2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 189,\n            columnNumber: 15\n          }, this), \"Se d\\xE9connecter\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 188,\n          columnNumber: 13\n        }, this), showModal && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal\",\n          style: {\n            display: 'block',\n            backgroundColor: 'rgba(0,0,0,0.5)'\n          },\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"modal-dialog\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"modal-content\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"modal-header\",\n                children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                  className: \"modal-title\",\n                  children: \"\\xC9diter mon profil\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 196,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"button\",\n                  className: \"btn-close\",\n                  onClick: () => setShowModal(false)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 197,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 195,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"modal-body\",\n                children: [error && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"alert alert-danger\",\n                  children: error\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 200,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"mb-3\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    className: \"form-label\",\n                    children: \"Avatar\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 202,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"file\",\n                    accept: \"image/*\",\n                    className: \"form-control\",\n                    onChange: onFileChange\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 203,\n                    columnNumber: 25\n                  }, this), preview && /*#__PURE__*/_jsxDEV(\"img\", {\n                    src: preview,\n                    alt: \"preview\",\n                    style: {\n                      width: 72,\n                      height: 72,\n                      borderRadius: '50%',\n                      objectFit: 'cover',\n                      marginTop: 8\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 204,\n                    columnNumber: 37\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 201,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"mb-3\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    className: \"form-label\",\n                    children: \"Pr\\xE9nom\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 207,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    className: \"form-control\",\n                    value: firstName,\n                    onChange: e => setFirstName(e.target.value)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 208,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 206,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"mb-3\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    className: \"form-label\",\n                    children: \"Nom\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 211,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    className: \"form-control\",\n                    value: lastName,\n                    onChange: e => setLastName(e.target.value)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 212,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 210,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 199,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"modal-footer\",\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"btn btn-secondary\",\n                  onClick: () => setShowModal(false),\n                  children: \"Annuler\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 216,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"btn btn-primary\",\n                  onClick: onSave,\n                  disabled: saving,\n                  children: saving ? 'Enregistrement...' : 'Enregistrer'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 217,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 215,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 194,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 193,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"d-flex flex-column align-items-center justify-content-center h-100\",\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-white-50\",\n          children: \"Non connect\\xE9\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 226,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 7\n    }, this), isMobile && mobileOpen && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"sidebar-backdrop\",\n      onClick: onMobileClose\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 231,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 133,\n    columnNumber: 5\n  }, this);\n};\n_s(Sidebar, \"H3p21XXcVe4ixIuCKVeKYZTkZ6M=\", false, function () {\n  return [useNavigate];\n});\n_c = Sidebar;\nexport default Sidebar;\nvar _c;\n$RefreshReg$(_c, \"Sidebar\");","map":{"version":3,"names":["React","useContext","useState","useEffect","useNavigate","uploadAvatar","updateProfile","BACKEND_ORIGIN","ThemeContext","listNotifications","jsxDEV","_jsxDEV","Fragment","_Fragment","Sidebar","mobileOpen","onMobileClose","_s","isOpen","setIsOpen","isMobile","setIsMobile","showModal","setShowModal","firstName","setFirstName","lastName","setLastName","avatarUrl","setAvatarUrl","preview","setPreview","saving","setSaving","error","setError","user","setUser","unread","setUnread","navigate","theme","setTheme","themes","handleResize","m","window","matchMedia","matches","addEventListener","removeEventListener","u","JSON","parse","localStorage","getItem","avatar","test","role","items","filter","it","read","length","cancelled","tick","id","setInterval","clearInterval","handleLogout","removeItem","onFileChange","e","_e$target$files","file","target","files","url","err","_err$response","_err$response$data","msg","response","data","message","onSave","preventDefault","updated","setItem","stringify","newPreview","_err$response2","_err$response2$data","effectiveOpen","className","onMouseEnter","undefined","onMouseLeave","children","src","alt","style","objectFit","fileName","_jsxFileName","lineNumber","columnNumber","encodeURIComponent","email","onClick","value","onChange","map","t","display","backgroundColor","type","accept","width","height","borderRadius","marginTop","disabled","_c","$RefreshReg$"],"sources":["C:/Users/LENOVO/Documents/Task-Management-Application-main/frontend/src/components/Sidebar.jsx"],"sourcesContent":["import React, { useContext, useState, useEffect } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport \"./Sidebar.css\";\nimport { uploadAvatar, updateProfile, BACKEND_ORIGIN } from \"../services/api\";\nimport { ThemeContext } from \"../context/ThemeContext\";\nimport { listNotifications } from \"../services/api\";\n\nconst Sidebar = ({ mobileOpen = false, onMobileClose }) => {\n  const [isOpen, setIsOpen] = useState(false);\n  const [isMobile, setIsMobile] = useState(false);\n  const [showModal, setShowModal] = useState(false);\n  const [firstName, setFirstName] = useState(\"\");\n  const [lastName, setLastName] = useState(\"\");\n  const [avatarUrl, setAvatarUrl] = useState(\"\");\n  const [preview, setPreview] = useState(\"\");\n  const [saving, setSaving] = useState(false);\n  const [error, setError] = useState(\"\");\n  const [user, setUser] = useState(null);\n  const [unread, setUnread] = useState(0);\n  const navigate = useNavigate();\n  const { theme, setTheme, themes } = useContext(ThemeContext);\n\n  // Detect small screens to alter behavior (no hover on mobile)\n  useEffect(() => {\n    const handleResize = () => {\n      try {\n        const m = window.matchMedia && window.matchMedia('(max-width: 576px)').matches;\n        setIsMobile(!!m);\n      } catch {\n        setIsMobile(false);\n      }\n    };\n    handleResize();\n    window.addEventListener('resize', handleResize);\n    return () => window.removeEventListener('resize', handleResize);\n  }, []);\n\n  useEffect(() => {\n    try {\n      const u = JSON.parse(localStorage.getItem(\"userInfo\"));\n      setUser(u || null);\n      if (u) {\n        setFirstName(u.firstName || \"\");\n        setLastName(u.lastName || \"\");\n        const avatar = u.avatarUrl\n          ? (/^https?:\\/\\//i.test(u.avatarUrl) ? u.avatarUrl : `${BACKEND_ORIGIN}${u.avatarUrl}`)\n          : \"\";\n        setPreview(avatar);\n        setAvatarUrl(u.avatarUrl || \"\");\n      }\n      // premier chargement du compteur si admin\n      (async () => {\n        try {\n          if (u?.role === 'admin') {\n            const items = await listNotifications();\n            setUnread(items.filter(it => !it.read).length);\n          } else {\n            setUnread(0);\n          }\n        } catch {\n          setUnread(0);\n        }\n      })();\n    } catch {\n      setUser(null);\n      setUnread(0);\n    }\n  }, []);\n\n  // Polling périodique pour actualiser dynamiquement le badge admin\n  useEffect(() => {\n    if (!user || user.role !== 'admin') return;\n    let cancelled = false;\n    const tick = async () => {\n      try {\n        const items = await listNotifications();\n        if (!cancelled) setUnread(items.filter(it => !it.read).length);\n      } catch {\n        if (!cancelled) setUnread(0);\n      }\n    };\n    const id = setInterval(tick, 30000); // 30s\n    // lancer un tick immédiat à l'ouverture\n    tick();\n    return () => { cancelled = true; clearInterval(id); };\n  }, [user?.role]);\n\n  const handleLogout = () => {\n    localStorage.removeItem(\"userInfo\");\n    localStorage.removeItem(\"userToken\");\n    navigate(\"/login\");\n  };\n\n  const onFileChange = async (e) => {\n    try {\n      setError(\"\");\n      const file = e.target.files?.[0];\n      if (!file) return;\n      const { url } = await uploadAvatar(file);\n      setAvatarUrl(url);\n      setPreview(/^https?:\\/\\//i.test(url) ? url : `${BACKEND_ORIGIN}${url}`);\n    } catch (err) {\n      const msg = err?.response?.data?.message || err?.message || \"Erreur lors de l'upload.\";\n      setError(msg);\n    }\n  };\n\n  const onSave = async (e) => {\n    e.preventDefault();\n    setSaving(true);\n    setError(\"\");\n    try {\n      const { user: updated } = await updateProfile({ firstName, lastName, avatarUrl });\n      localStorage.setItem(\"userInfo\", JSON.stringify(updated));\n      setUser(updated);\n      // Refresh preview if avatar changed\n      const newPreview = updated.avatarUrl\n        ? (/^https?:\\/\\//i.test(updated.avatarUrl) ? updated.avatarUrl : `${BACKEND_ORIGIN}${updated.avatarUrl}`)\n        : \"\";\n      setPreview(newPreview);\n      setShowModal(false);\n    } catch (err) {\n      const msg = err?.response?.data?.message || err?.message || \"Erreur lors de la sauvegarde.\";\n      setError(msg);\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  const effectiveOpen = (isOpen && !isMobile) || (isMobile && mobileOpen);\n\n  return (\n    <div\n      className={`sidebar${effectiveOpen ? \" open\" : \"\"}`}\n      onMouseEnter={!isMobile ? () => setIsOpen(true) : undefined}\n      onMouseLeave={!isMobile ? () => setIsOpen(false) : undefined}\n    >\n      <div className=\"content\">\n        {user ? (\n          <>\n            <div className=\"d-flex flex-column align-items-center\">\n              {preview ? (\n                <img\n                  src={preview}\n                  alt={`Avatar de ${user.firstName} ${user.lastName}`}\n                  className=\"avatar mb-2\"\n                  style={{ objectFit: 'cover' }}\n                />\n              ) : (\n                <img\n                  src={`https://ui-avatars.com/api/?name=${encodeURIComponent(\n                    user.firstName + \" \" + user.lastName\n                  )}&background=198754&color=fff&size=128`}\n                  alt={`Avatar de ${user.firstName} ${user.lastName}`}\n                  className=\"avatar mb-2\"\n                />\n              )}\n              <div className=\"username\">\n                {user.firstName} {user.lastName}\n              </div>\n              <div className=\"text-white-50 small mb-2\">{user.email}</div>\n              <button className=\"btn btn-sm btn-outline-light\" onClick={() => setShowModal(true)}>\n                Modifier mon profil\n              </button>\n            </div>\n            <div className=\"divider\"></div>\n            {/* Section Thème */}\n            <div className=\"mb-2 w-100 px-2\">\n              <label className=\"form-label text-white\">Thème</label>\n              <select className=\"form-select form-select-sm\" value={theme} onChange={(e) => setTheme(e.target.value)}>\n                {themes?.map((t) => (\n                  <option key={t} value={t}>{t}</option>\n                ))}\n              </select>\n            </div>\n            <div className=\"divider\"></div>\n            {user.role === 'admin' && (\n              <>\n                <div className=\"d-flex flex-column align-items-center w-100 mb-2\">\n                  <button className=\"btn btn-sm btn-warning w-100 admin-btn\" onClick={() => navigate('/admin')}>\n                    <i className=\"bi bi-shield-lock me-2\"></i>Admin {unread > 0 && <span className=\"badge bg-danger ms-2\">{unread}</span>}\n                  </button>\n                </div>\n                <div className=\"divider\"></div>\n              </>\n            )}\n            {/* Bouton de déconnexion en dernier */}\n            <button className=\"logout-btn mb-2\" onClick={handleLogout}>\n              <i className=\"bi bi-box-arrow-right me-2\"></i>Se déconnecter\n            </button>\n            {showModal && (\n              <div className=\"modal\" style={{ display: 'block', backgroundColor: 'rgba(0,0,0,0.5)' }}>\n                <div className=\"modal-dialog\">\n                  <div className=\"modal-content\">\n                    <div className=\"modal-header\">\n                      <h5 className=\"modal-title\">Éditer mon profil</h5>\n                      <button type=\"button\" className=\"btn-close\" onClick={() => setShowModal(false)}></button>\n                    </div>\n                    <div className=\"modal-body\">\n                      {error && <div className=\"alert alert-danger\">{error}</div>}\n                      <div className=\"mb-3\">\n                        <label className=\"form-label\">Avatar</label>\n                        <input type=\"file\" accept=\"image/*\" className=\"form-control\" onChange={onFileChange} />\n                        {preview && <img src={preview} alt=\"preview\" style={{ width: 72, height: 72, borderRadius: '50%', objectFit: 'cover', marginTop: 8 }} />}\n                      </div>\n                      <div className=\"mb-3\">\n                        <label className=\"form-label\">Prénom</label>\n                        <input className=\"form-control\" value={firstName} onChange={(e) => setFirstName(e.target.value)} />\n                      </div>\n                      <div className=\"mb-3\">\n                        <label className=\"form-label\">Nom</label>\n                        <input className=\"form-control\" value={lastName} onChange={(e) => setLastName(e.target.value)} />\n                      </div>\n                    </div>\n                    <div className=\"modal-footer\">\n                      <button className=\"btn btn-secondary\" onClick={() => setShowModal(false)}>Annuler</button>\n                      <button className=\"btn btn-primary\" onClick={onSave} disabled={saving}>{saving ? 'Enregistrement...' : 'Enregistrer'}</button>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            )}\n          </>\n        ) : (\n          <div className=\"d-flex flex-column align-items-center justify-content-center h-100\">\n            <span className=\"text-white-50\">Non connecté</span>\n          </div>\n        )}\n      </div>\n      {isMobile && mobileOpen && (\n        <div className=\"sidebar-backdrop\" onClick={onMobileClose} />\n      )}\n    </div>\n  );\n};\n\nexport default Sidebar;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}