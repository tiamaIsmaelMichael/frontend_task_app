{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\LENOVO\\\\Documents\\\\Task-Management-Application-main\\\\frontend\\\\src\\\\pages\\\\Dashboard.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState, useCallback } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport api from \"../services/api\";\nimport Layout from \"../components/Layout\";\nimport TaskForm from \"../components/TaskForm\";\nimport TaskList from \"../components/TaskList\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Dashboard = () => {\n  _s();\n  const [tasks, setTasks] = useState([]);\n  const [editingTask, setEditingTask] = useState(null);\n  const [filter, setFilter] = useState(\"all\");\n  const [section, setSection] = useState(\"personal\"); // personal | shared | assigned\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [showEditModal, setShowEditModal] = useState(false);\n  // Pagination (pour plus de confort visuel)\n  const [page, setPage] = useState(1);\n  const itemsPerPage = 8;\n  const navigate = useNavigate();\n  const user = (() => {\n    try {\n      return JSON.parse(sessionStorage.getItem(\"userInfo\"));\n    } catch {\n      return null;\n    }\n  })();\n  const fetchTasks = useCallback(async () => {\n    try {\n      setLoading(true);\n      setError(null);\n      const res = await api.get(\"/tasks\");\n      setTasks(res.data);\n    } catch (err) {\n      console.error(\"Erreur lors du chargement des tâches :\", err);\n      setError(\"Impossible de charger les tâches. Veuillez réessayer.\");\n      // Ne pas déconnecter immédiatement sur 401 ici; laisser l'intercepteur global gérer\n      // et éviter les allers-retours vers /login en cas d'erreurs transitoires.\n      // On peut éventuellement retenter une fois après un court délai.\n      try {\n        await new Promise(r => setTimeout(r, 600));\n        const res2 = await api.get(\"/tasks\");\n        setTasks(res2.data);\n        setError(null);\n      } catch (_) {/* noop: l'intercepteur 401 redirigera si nécessaire */}\n    } finally {\n      setLoading(false);\n    }\n  }, []);\n  useEffect(() => {\n    let token = sessionStorage.getItem('userToken') || sessionStorage.getItem('token');\n    if (!token) {\n      try {\n        var _JSON$parse;\n        token = (_JSON$parse = JSON.parse(sessionStorage.getItem('userInfo') || '{}')) === null || _JSON$parse === void 0 ? void 0 : _JSON$parse.token;\n      } catch {}\n    }\n    if (!token) {\n      navigate(\"/login\");\n    } else {\n      fetchTasks();\n    }\n  }, [fetchTasks, navigate]);\n\n  // Repartir à la page 1 quand les filtres changent ou la liste varie\n  useEffect(() => {\n    setPage(1);\n  }, [filter, section, tasks.length]);\n  const handleLogout = () => {\n    localStorage.removeItem(\"userToken\");\n    localStorage.removeItem(\"userInfo\");\n    navigate(\"/login\");\n  };\n  const handleSubmit = async taskData => {\n    try {\n      setError(null);\n      if (editingTask) {\n        await api.put(`/tasks/${editingTask._id}`, taskData);\n        setEditingTask(null);\n        setShowEditModal(false);\n      } else {\n        await api.post(\"/tasks\", taskData);\n      }\n      fetchTasks();\n    } catch (err) {\n      console.error(\"Erreur lors de la soumission de la tâche :\", err);\n      setError(\"Impossible de sauvegarder la tâche. Veuillez réessayer.\");\n    }\n  };\n  const toggleComplete = async (id, completed) => {\n    try {\n      setError(null);\n      // Optimistic update: update local state immediately\n      setTasks(prev => prev.map(t => t._id === id ? {\n        ...t,\n        completed\n      } : t));\n      await api.put(`/tasks/${id}`, {\n        completed\n      });\n      // Optionally refresh from server to stay in sync\n      // await fetchTasks();\n    } catch (err) {\n      console.error(\"Erreur lors du changement d'état de la tâche :\", err);\n      setError(\"Impossible de mettre à jour l'état de la tâche. Veuillez réessayer.\");\n      // Revert on error by refetching\n      fetchTasks();\n    }\n  };\n  const handleDelete = async id => {\n    if (!window.confirm(\"Confirmez-vous la suppression ?\")) return;\n    try {\n      setError(null);\n      await api.delete(`/tasks/${id}`);\n      // Optimistic update: remove task locally to update counters immediately\n      setTasks(prev => prev.filter(t => t._id !== id));\n      // Optionally refresh from server to confirm\n      // await fetchTasks();\n    } catch (err) {\n      console.error(\"Erreur lors de la suppression de la tâche :\", err);\n      setError(\"Impossible de supprimer la tâche. Veuillez réessayer.\");\n      // Re-sync state on error\n      fetchTasks();\n    }\n  };\n  const filteredTasks = tasks.filter(task => {\n    // Section\n    if (section === 'personal' && task.visibility !== 'personal') return false;\n    if (section === 'shared' && task.visibility !== 'shared') return false;\n    if (section === 'assigned' && String(task.assignedTo || '') !== String((user === null || user === void 0 ? void 0 : user.id) || (user === null || user === void 0 ? void 0 : user._id) || '')) return false;\n    if (filter === \"completed\") return task.completed;\n    if (filter === \"pending\") return !task.completed;\n    if (filter === \"assigned\") return String(task.assignedTo || '') === String((user === null || user === void 0 ? void 0 : user.id) || (user === null || user === void 0 ? void 0 : user._id) || '');\n    return true;\n  });\n\n  // Pagination sur la liste filtrée\n  const total = tasks.length;\n  const completed = tasks.filter(t => t.completed).length;\n  const pending = total - completed;\n  const totalPages = Math.max(1, Math.ceil(filteredTasks.length / itemsPerPage));\n  const start = (page - 1) * itemsPerPage;\n  const visibleTasks = filteredTasks.slice(start, start + itemsPerPage);\n  const currentUserId = String((user === null || user === void 0 ? void 0 : user.id) || (user === null || user === void 0 ? void 0 : user._id) || \"\");\n  const assignedToMe = tasks.filter(t => String(t.assignedTo || \"\") === currentUserId);\n\n  // Ne pas bloquer l'affichage si userInfo est absent :\n  // le guard de route (App.js) se base sur le token, et l'useEffect ci-dessous\n  // redirigera vers /login si aucun token n'est présent.\n\n  return /*#__PURE__*/_jsxDEV(Layout, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container-fluid container-md mt-3 px-2 px-md-3\",\n      style: {\n        background: \"#ffffff\",\n        borderRadius: \"1rem\",\n        boxShadow: \"0 2px 16px rgba(35,41,70,0.06)\",\n        padding: \"1rem\",\n        minHeight: \"auto\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"mb-3 fw-bold text-center\",\n        style: {\n          color: \"#232946\",\n          letterSpacing: \"0.5px\",\n          fontSize: \"clamp(1.4rem, 3vw, 1.8rem)\"\n        },\n        children: \"ENREGISTREMENT DES TACHES\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 9\n      }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"alert alert-danger\",\n        role: \"alert\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card mb-3 shadow-sm\",\n        style: {\n          borderRadius: \"0.8rem\",\n          border: \"none\"\n        },\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card-body p-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n            className: \"card-title mb-3\",\n            style: {\n              color: \"#0d6efd\"\n            },\n            children: \"Ajouter une t\\xE2che\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 180,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(TaskForm, {\n            onSubmit: handleSubmit,\n            initialData: null,\n            onCancel: () => {}\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 183,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 179,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n          className: \"mb-3 py-2 shadow-sm text-center fw-bold\",\n          style: {\n            color: \"#232946\"\n          },\n          children: \"Mes T\\xE2ches\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"d-flex flex-wrap gap-2 mb-2\",\n          children: [{\n            k: 'personal',\n            l: 'Tâches perso'\n          }, {\n            k: 'shared',\n            l: 'Tâches partagées'\n          }, {\n            k: 'assigned',\n            l: 'Tâches assignées'\n          }].map(s => /*#__PURE__*/_jsxDEV(\"button\", {\n            className: `btn btn-sm ${section === s.k ? 'btn-success' : 'btn-outline-success'}`,\n            onClick: () => setSection(s.k),\n            children: s.l\n          }, s.k, false, {\n            fileName: _jsxFileName,\n            lineNumber: 196,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h6\", {\n          className: \"mb-2\",\n          style: {\n            color: \"#232946\"\n          },\n          children: \"Filtres\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 199,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"d-flex flex-wrap gap-2\",\n          children: [\"all\", \"pending\", \"completed\"].map(f => /*#__PURE__*/_jsxDEV(\"button\", {\n            className: `btn btn-sm ${filter === f ? 'btn-primary' : 'btn-outline-primary'}`,\n            onClick: () => setFilter(f),\n            children: f === 'all' ? 'Toutes' : f === 'pending' ? 'À faire' : 'Terminées'\n          }, f, false, {\n            fileName: _jsxFileName,\n            lineNumber: 202,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 200,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 9\n      }, this), loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center my-5\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"spinner-border text-primary\",\n          role: \"status\",\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"visually-hidden\",\n            children: \"Chargement...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 213,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 212,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-3\",\n          children: [/*#__PURE__*/_jsxDEV(TaskList, {\n            tasks: visibleTasks,\n            onToggleComplete: toggleComplete,\n            onEdit: t => {\n              setEditingTask(t);\n              setShowEditModal(true);\n            },\n            onDelete: handleDelete,\n            currentUserId: (user === null || user === void 0 ? void 0 : user.id) || (user === null || user === void 0 ? void 0 : user._id)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 220,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"d-flex justify-content-between align-items-center mt-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"small text-muted\",\n              children: [\"Page \", page, \" / \", totalPages, \" \\u2014 \", filteredTasks.length, \" \\xE9l\\xE9ments\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 229,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"btn-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn btn-outline-secondary btn-sm\",\n                disabled: page <= 1,\n                onClick: () => setPage(p => Math.max(1, p - 1)),\n                children: \"Pr\\xE9c\\xE9dent\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 233,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn btn-outline-secondary btn-sm\",\n                disabled: page >= totalPages,\n                onClick: () => setPage(p => Math.min(totalPages, p + 1)),\n                children: \"Suivant\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 234,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 232,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 228,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 219,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"hr\", {\n          className: \"my-3\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 239,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n            className: \"mb-3 fw-bold text-center\",\n            style: {\n              color: \"#232946\"\n            },\n            children: \"Statistiques\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 243,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row g-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-12 col-sm-6 col-lg-4\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"card border-0 shadow-sm h-100\",\n                style: {\n                  background: \"#e3f0ff\"\n                },\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"card-body py-3\",\n                  children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n                    className: \"mb-1\",\n                    style: {\n                      color: \"#232946\"\n                    },\n                    children: \"Total\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 250,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"fw-bold fs-4\",\n                    style: {\n                      color: \"#0d6efd\"\n                    },\n                    children: total\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 251,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 249,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 248,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 247,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-12 col-sm-6 col-lg-4\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"card border-0 shadow-sm h-100\",\n                style: {\n                  background: \"#b1d9f5\"\n                },\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"card-body py-3\",\n                  children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n                    className: \"mb-1\",\n                    style: {\n                      color: \"#232946\"\n                    },\n                    children: \"Termin\\xE9es\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 258,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"fw-bold fs-4\",\n                    style: {\n                      color: \"#198754\"\n                    },\n                    children: completed\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 259,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 257,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 256,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 255,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-12 col-sm-6 col-lg-4\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"card border-0 shadow-sm h-100\",\n                style: {\n                  background: \"#fff\"\n                },\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"card-body py-3\",\n                  children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n                    className: \"mb-1\",\n                    style: {\n                      color: \"#232946\"\n                    },\n                    children: \"\\xC0 faire\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 266,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"fw-bold fs-4\",\n                    style: {\n                      color: \"#dc3545\"\n                    },\n                    children: pending\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 267,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 265,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 264,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 263,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 246,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 242,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n            className: \"mb-3 fw-bold\",\n            style: {\n              color: \"#232946\"\n            },\n            children: \"T\\xE2ches assign\\xE9es \\xE0 moi\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 276,\n            columnNumber: 15\n          }, this), assignedToMe.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-muted\",\n            children: \"Aucune t\\xE2che assign\\xE9e.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 278,\n            columnNumber: 17\n          }, this) : /*#__PURE__*/_jsxDEV(\"ul\", {\n            className: \"list-group\",\n            children: assignedToMe.map(t => /*#__PURE__*/_jsxDEV(\"li\", {\n              className: \"list-group-item d-flex justify-content-between align-items-center\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"fw-semibold\",\n                  children: t.title\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 284,\n                  columnNumber: 25\n                }, this), t.description && /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-muted\",\n                  children: [\" \\u2014 \", t.description]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 285,\n                  columnNumber: 43\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 283,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: `badge ${t.participationStatus === 'accepted' ? 'bg-success' : t.participationStatus === 'declined' ? 'bg-danger' : 'bg-secondary'}`,\n                children: t.participationStatus || 'pending'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 287,\n                columnNumber: 23\n              }, this)]\n            }, t._id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 282,\n              columnNumber: 21\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 280,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 275,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n            className: \"mb-3 text-center\",\n            style: {\n              color: \"#232946\"\n            },\n            children: \"Historique des t\\xE2ches termin\\xE9es\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 296,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card border-0 shadow-sm\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"card-body p-0\",\n              children: /*#__PURE__*/_jsxDEV(\"ul\", {\n                className: \"list-group list-group-flush\",\n                children: tasks.filter(t => t.completed).length === 0 ? /*#__PURE__*/_jsxDEV(\"li\", {\n                  className: \"list-group-item text-muted text-center py-4\",\n                  children: \"Aucune t\\xE2che termin\\xE9e.\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 303,\n                  columnNumber: 23\n                }, this) : tasks.filter(t => t.completed).map(t => /*#__PURE__*/_jsxDEV(\"li\", {\n                  className: \"list-group-item\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"d-flex flex-column flex-md-row justify-content-between align-items-start gap-2\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"fw-semibold\",\n                        children: t.title\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 313,\n                        columnNumber: 33\n                      }, this), t.description && /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"text-muted d-block d-md-inline\",\n                        children: [\" \\u2014 \", t.description]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 315,\n                        columnNumber: 35\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 312,\n                      columnNumber: 31\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"small text-secondary\",\n                      children: new Date(t.createdAt).toLocaleString()\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 318,\n                      columnNumber: 31\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 311,\n                    columnNumber: 29\n                  }, this)\n                }, t._id, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 310,\n                  columnNumber: 27\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 301,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 300,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 299,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 295,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 7\n    }, this), showEditModal && editingTask && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal\",\n      style: {\n        display: 'block',\n        backgroundColor: 'rgba(0,0,0,0.5)'\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-dialog modal-lg\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-content\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"modal-header\",\n            children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n              className: \"modal-title\",\n              children: \"Modifier la t\\xE2che\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 335,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: \"btn-close\",\n              onClick: () => {\n                setShowEditModal(false);\n                setEditingTask(null);\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 336,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 334,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"modal-body\",\n            children: /*#__PURE__*/_jsxDEV(TaskForm, {\n              onSubmit: handleSubmit,\n              initialData: editingTask,\n              onCancel: () => {\n                setShowEditModal(false);\n                setEditingTask(null);\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 339,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 338,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 333,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 332,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 331,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 146,\n    columnNumber: 5\n  }, this);\n};\n_s(Dashboard, \"AQ0RusZ/IODBQ6t2ZSCdxgLgx5M=\", false, function () {\n  return [useNavigate];\n});\n_c = Dashboard;\nexport default Dashboard;\nvar _c;\n$RefreshReg$(_c, \"Dashboard\");","map":{"version":3,"names":["React","useEffect","useState","useCallback","useNavigate","api","Layout","TaskForm","TaskList","jsxDEV","_jsxDEV","Fragment","_Fragment","Dashboard","_s","tasks","setTasks","editingTask","setEditingTask","filter","setFilter","section","setSection","loading","setLoading","error","setError","showEditModal","setShowEditModal","page","setPage","itemsPerPage","navigate","user","JSON","parse","sessionStorage","getItem","fetchTasks","res","get","data","err","console","Promise","r","setTimeout","res2","_","token","_JSON$parse","length","handleLogout","localStorage","removeItem","handleSubmit","taskData","put","_id","post","toggleComplete","id","completed","prev","map","t","handleDelete","window","confirm","delete","filteredTasks","task","visibility","String","assignedTo","total","pending","totalPages","Math","max","ceil","start","visibleTasks","slice","currentUserId","assignedToMe","children","className","style","background","borderRadius","boxShadow","padding","minHeight","color","letterSpacing","fontSize","fileName","_jsxFileName","lineNumber","columnNumber","role","border","onSubmit","initialData","onCancel","k","l","s","onClick","f","onToggleComplete","onEdit","onDelete","disabled","p","min","title","description","participationStatus","Date","createdAt","toLocaleString","display","backgroundColor","type","_c","$RefreshReg$"],"sources":["C:/Users/LENOVO/Documents/Task-Management-Application-main/frontend/src/pages/Dashboard.jsx"],"sourcesContent":["import React, { useEffect, useState, useCallback } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport api from \"../services/api\";\nimport Layout from \"../components/Layout\";\nimport TaskForm from \"../components/TaskForm\";\nimport TaskList from \"../components/TaskList\";\n\nconst Dashboard = () => {\n  const [tasks, setTasks] = useState([]);\n  const [editingTask, setEditingTask] = useState(null);\n  const [filter, setFilter] = useState(\"all\");\n  const [section, setSection] = useState(\"personal\"); // personal | shared | assigned\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [showEditModal, setShowEditModal] = useState(false);\n  // Pagination (pour plus de confort visuel)\n  const [page, setPage] = useState(1);\n  const itemsPerPage = 8;\n  const navigate = useNavigate();\n\n  const user = (() => { try { return JSON.parse(sessionStorage.getItem(\"userInfo\")); } catch { return null; } })();\n\n  const fetchTasks = useCallback(async () => {\n    try {\n      setLoading(true);\n      setError(null);\n      const res = await api.get(\"/tasks\");\n      setTasks(res.data);\n    } catch (err) {\n      console.error(\"Erreur lors du chargement des tâches :\", err);\n      setError(\"Impossible de charger les tâches. Veuillez réessayer.\");\n      // Ne pas déconnecter immédiatement sur 401 ici; laisser l'intercepteur global gérer\n      // et éviter les allers-retours vers /login en cas d'erreurs transitoires.\n      // On peut éventuellement retenter une fois après un court délai.\n      try {\n        await new Promise(r => setTimeout(r, 600));\n        const res2 = await api.get(\"/tasks\");\n        setTasks(res2.data);\n        setError(null);\n      } catch (_) { /* noop: l'intercepteur 401 redirigera si nécessaire */ }\n    } finally {\n      setLoading(false);\n    }\n  }, []);\n\nuseEffect(() => {\n  let token = sessionStorage.getItem('userToken') || sessionStorage.getItem('token');\n  if (!token) {\n    try { token = JSON.parse(sessionStorage.getItem('userInfo') || '{}')?.token; } catch {}\n  }\n  if (!token) {\n    navigate(\"/login\");\n  } else {\n    fetchTasks();\n  }\n}, [fetchTasks, navigate]);\n\n  // Repartir à la page 1 quand les filtres changent ou la liste varie\n  useEffect(() => { setPage(1); }, [filter, section, tasks.length]);\n\n  const handleLogout = () => {\n    localStorage.removeItem(\"userToken\");\n    localStorage.removeItem(\"userInfo\");\n    navigate(\"/login\");\n  };\n\n  const handleSubmit = async (taskData) => {\n    try {\n      setError(null);\n      if (editingTask) {\n        await api.put(`/tasks/${editingTask._id}`, taskData);\n        setEditingTask(null);\n        setShowEditModal(false);\n      } else {\n        await api.post(\"/tasks\", taskData);\n      }\n      fetchTasks();\n    } catch (err) {\n      console.error(\"Erreur lors de la soumission de la tâche :\", err);\n      setError(\"Impossible de sauvegarder la tâche. Veuillez réessayer.\");\n    }\n  };\n\n  const toggleComplete = async (id, completed) => {\n    try {\n      setError(null);\n      // Optimistic update: update local state immediately\n      setTasks((prev) => prev.map(t => t._id === id ? { ...t, completed } : t));\n      await api.put(`/tasks/${id}`, { completed });\n      // Optionally refresh from server to stay in sync\n      // await fetchTasks();\n    } catch (err) {\n      console.error(\"Erreur lors du changement d'état de la tâche :\", err);\n      setError(\n        \"Impossible de mettre à jour l'état de la tâche. Veuillez réessayer.\"\n      );\n      // Revert on error by refetching\n      fetchTasks();\n    }\n  };\n\n  const handleDelete = async (id) => {\n    if (!window.confirm(\"Confirmez-vous la suppression ?\")) return;\n    try {\n      setError(null);\n      await api.delete(`/tasks/${id}`);\n      // Optimistic update: remove task locally to update counters immediately\n      setTasks((prev) => prev.filter((t) => t._id !== id));\n      // Optionally refresh from server to confirm\n      // await fetchTasks();\n    } catch (err) {\n      console.error(\"Erreur lors de la suppression de la tâche :\", err);\n      setError(\"Impossible de supprimer la tâche. Veuillez réessayer.\");\n      // Re-sync state on error\n      fetchTasks();\n    }\n  };\n\n  const filteredTasks = tasks.filter((task) => {\n    // Section\n    if (section === 'personal' && task.visibility !== 'personal') return false;\n    if (section === 'shared' && task.visibility !== 'shared') return false;\n    if (section === 'assigned' && String(task.assignedTo || '') !== String(user?.id || user?._id || '')) return false;\n    if (filter === \"completed\") return task.completed;\n    if (filter === \"pending\") return !task.completed;\n    if (filter === \"assigned\") return String(task.assignedTo || '') === String(user?.id || user?._id || '');\n    return true;\n  });\n\n  // Pagination sur la liste filtrée\n  const total = tasks.length;\n  const completed = tasks.filter((t) => t.completed).length;\n  const pending = total - completed;\n  const totalPages = Math.max(1, Math.ceil(filteredTasks.length / itemsPerPage));\n  const start = (page - 1) * itemsPerPage;\n  const visibleTasks = filteredTasks.slice(start, start + itemsPerPage);\n\n  const currentUserId = String(user?.id || user?._id || \"\");\n  const assignedToMe = tasks.filter((t) => String(t.assignedTo || \"\") === currentUserId);\n\n  // Ne pas bloquer l'affichage si userInfo est absent :\n  // le guard de route (App.js) se base sur le token, et l'useEffect ci-dessous\n  // redirigera vers /login si aucun token n'est présent.\n\n  return (\n    <Layout>\n      <div\n        className=\"container-fluid container-md mt-3 px-2 px-md-3\"\n        style={{\n          background: \"#ffffff\",\n          borderRadius: \"1rem\",\n          boxShadow: \"0 2px 16px rgba(35,41,70,0.06)\",\n          padding: \"1rem\",\n          minHeight: \"auto\",\n        }}\n      >\n        <h1\n          className=\"mb-3 fw-bold text-center\"\n          style={{\n            color: \"#232946\",\n            letterSpacing: \"0.5px\",\n            fontSize: \"clamp(1.4rem, 3vw, 1.8rem)\",\n          }}\n        >\n          ENREGISTREMENT DES TACHES\n        </h1>\n\n        {error && (\n          <div className=\"alert alert-danger\" role=\"alert\">\n            {error}\n          </div>\n        )}\n\n        {/* Formulaire d'ajout/modification */}\n        <div\n          className=\"card mb-3 shadow-sm\"\n          style={{ borderRadius: \"0.8rem\", border: \"none\" }}\n        >\n          <div className=\"card-body p-3\">\n            <h5 className=\"card-title mb-3\" style={{ color: \"#0d6efd\" }}>\n              Ajouter une tâche\n            </h5>\n            <TaskForm\n              onSubmit={handleSubmit}\n              initialData={null}\n              onCancel={() => {}}\n            />\n          </div>\n        </div>\n\n        {/* Sections & Filtres (compacts) */}\n        <div className=\"mb-3\">\n          <h6 className=\"mb-3 py-2 shadow-sm text-center fw-bold\" style={{ color: \"#232946\" }}>Mes Tâches</h6>\n          <div className=\"d-flex flex-wrap gap-2 mb-2\">\n            {[{k:'personal',l:'Tâches perso'},{k:'shared',l:'Tâches partagées'},{k:'assigned',l:'Tâches assignées'}].map(s => (\n              <button key={s.k} className={`btn btn-sm ${section===s.k? 'btn-success':'btn-outline-success'}`} onClick={()=>setSection(s.k)}>{s.l}</button>\n            ))}\n          </div>\n          <h6 className=\"mb-2\" style={{ color: \"#232946\" }}>Filtres</h6>\n          <div className=\"d-flex flex-wrap gap-2\">\n            {[\"all\", \"pending\", \"completed\"].map((f) => (\n              <button key={f} className={`btn btn-sm ${filter===f? 'btn-primary':'btn-outline-primary'}`} onClick={()=>setFilter(f)}>\n                {f === 'all' ? 'Toutes' : f === 'pending' ? 'À faire' : 'Terminées'}\n              </button>\n            ))}\n          </div>\n        </div>\n\n        {/* État du chargement */}\n        {loading ? (\n          <div className=\"text-center my-5\">\n            <div className=\"spinner-border text-primary\" role=\"status\">\n              <span className=\"visually-hidden\">Chargement...</span>\n            </div>\n          </div>\n        ) : (\n          <>\n            {/* Liste des tâches paginée */}\n            <div className=\"mb-3\">\n              <TaskList\n                tasks={visibleTasks}\n                onToggleComplete={toggleComplete}\n                onEdit={(t) => { setEditingTask(t); setShowEditModal(true); }}\n                onDelete={handleDelete}\n                currentUserId={user?.id || user?._id}\n              />\n              {/* Pagination controls */}\n              <div className=\"d-flex justify-content-between align-items-center mt-3\">\n                <div className=\"small text-muted\">\n                  Page {page} / {totalPages} — {filteredTasks.length} éléments\n                </div>\n                <div className=\"btn-group\">\n                  <button className=\"btn btn-outline-secondary btn-sm\" disabled={page<=1} onClick={()=>setPage(p=>Math.max(1,p-1))}>Précédent</button>\n                  <button className=\"btn btn-outline-secondary btn-sm\" disabled={page>=totalPages} onClick={()=>setPage(p=>Math.min(totalPages,p+1))}>Suivant</button>\n                </div>\n              </div>\n            </div>\n\n            <hr className=\"my-3\" />\n\n            {/* Statistiques (compactes) */}\n            <div className=\"mb-3\">\n              <h6 className=\"mb-3 fw-bold text-center\" style={{ color: \"#232946\" }}>\n                Statistiques\n              </h6>\n              <div className=\"row g-3\">\n                <div className=\"col-12 col-sm-6 col-lg-4\">\n                  <div className=\"card border-0 shadow-sm h-100\" style={{ background: \"#e3f0ff\" }}>\n                    <div className=\"card-body py-3\">\n                      <h6 className=\"mb-1\" style={{ color: \"#232946\" }}>Total</h6>\n                      <span className=\"fw-bold fs-4\" style={{ color: \"#0d6efd\" }}>{total}</span>\n                    </div>\n                  </div>\n                </div>\n                <div className=\"col-12 col-sm-6 col-lg-4\">\n                  <div className=\"card border-0 shadow-sm h-100\" style={{ background: \"#b1d9f5\" }}>\n                    <div className=\"card-body py-3\">\n                      <h6 className=\"mb-1\" style={{ color: \"#232946\" }}>Terminées</h6>\n                      <span className=\"fw-bold fs-4\" style={{ color: \"#198754\" }}>{completed}</span>\n                    </div>\n                  </div>\n                </div>\n                <div className=\"col-12 col-sm-6 col-lg-4\">\n                  <div className=\"card border-0 shadow-sm h-100\" style={{ background: \"#fff\" }}>\n                    <div className=\"card-body py-3\">\n                      <h6 className=\"mb-1\" style={{ color: \"#232946\" }}>À faire</h6>\n                      <span className=\"fw-bold fs-4\" style={{ color: \"#dc3545\" }}>{pending}</span>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n\n            {/* Assignées à moi (raccourci) */}\n            <div className=\"mb-3\">\n              <h6 className=\"mb-3 fw-bold\" style={{ color: \"#232946\" }}>Tâches assignées à moi</h6>\n              {assignedToMe.length === 0 ? (\n                <div className=\"text-muted\">Aucune tâche assignée.</div>\n              ) : (\n                <ul className=\"list-group\">\n                  {assignedToMe.map((t) => (\n                    <li key={t._id} className=\"list-group-item d-flex justify-content-between align-items-center\">\n                      <div>\n                        <span className=\"fw-semibold\">{t.title}</span>\n                        {t.description && <span className=\"text-muted\"> — {t.description}</span>}\n                      </div>\n                      <span className={`badge ${t.participationStatus === 'accepted' ? 'bg-success' : t.participationStatus === 'declined' ? 'bg-danger' : 'bg-secondary'}`}>{t.participationStatus || 'pending'}</span>\n                    </li>\n                  ))}\n                </ul>\n              )}\n            </div>\n\n            {/* Historique */}\n            <div className=\"mb-3\">\n              <h6 className=\"mb-3 text-center\" style={{ color: \"#232946\" }}>\n                Historique des tâches terminées\n              </h6>\n              <div className=\"card border-0 shadow-sm\">\n                <div className=\"card-body p-0\">\n                  <ul className=\"list-group list-group-flush\">\n                    {tasks.filter((t) => t.completed).length === 0 ? (\n                      <li className=\"list-group-item text-muted text-center py-4\">\n                        Aucune tâche terminée.\n                      </li>\n                    ) : (\n                      tasks\n                        .filter((t) => t.completed)\n                        .map((t) => (\n                          <li key={t._id} className=\"list-group-item\">\n                            <div className=\"d-flex flex-column flex-md-row justify-content-between align-items-start gap-2\">\n                              <div>\n                                <span className=\"fw-semibold\">{t.title}</span>\n                                {t.description && (\n                                  <span className=\"text-muted d-block d-md-inline\"> — {t.description}</span>\n                                )}\n                              </div>\n                              <span className=\"small text-secondary\">{new Date(t.createdAt).toLocaleString()}</span>\n                            </div>\n                          </li>\n                        ))\n                    )}\n                  </ul>\n                </div>\n              </div>\n            </div>\n          </>\n        )}\n      </div>\n      {showEditModal && editingTask && (\n        <div className=\"modal\" style={{ display: 'block', backgroundColor: 'rgba(0,0,0,0.5)' }}>\n          <div className=\"modal-dialog modal-lg\">\n            <div className=\"modal-content\">\n              <div className=\"modal-header\">\n                <h5 className=\"modal-title\">Modifier la tâche</h5>\n                <button type=\"button\" className=\"btn-close\" onClick={() => { setShowEditModal(false); setEditingTask(null); }}></button>\n              </div>\n              <div className=\"modal-body\">\n                <TaskForm\n                  onSubmit={handleSubmit}\n                  initialData={editingTask}\n                  onCancel={() => { setShowEditModal(false); setEditingTask(null); }}\n                />\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n    </Layout>\n  );\n};\n\nexport default Dashboard;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}