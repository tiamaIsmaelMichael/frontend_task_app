{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\LENOVO\\\\Documents\\\\Task-Management-Application-main\\\\frontend\\\\src\\\\components\\\\TaskList.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport { acceptTaskApi, declineTaskApi, submitProgressApi, getTaskReports, BACKEND_ORIGIN } from \"../services/api\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst formatDate = dateString => {\n  if (!dateString) return \"Non définie\";\n  return new Date(dateString).toLocaleString('fr-FR', {\n    day: '2-digit',\n    month: '2-digit',\n    year: 'numeric',\n    hour: '2-digit',\n    minute: '2-digit'\n  });\n};\nconst getPriorityBadge = priority => {\n  const badges = {\n    low: \"bg-success\",\n    medium: \"bg-warning\",\n    high: \"bg-danger\"\n  };\n  const labels = {\n    low: \"Basse\",\n    medium: \"Moyenne\",\n    high: \"Haute\"\n  };\n  return /*#__PURE__*/_jsxDEV(\"span\", {\n    className: `badge ${badges[priority]} me-2`,\n    children: labels[priority]\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 27,\n    columnNumber: 5\n  }, this);\n};\nconst getProgressColor = progress => {\n  if (progress >= 75) return \"success\";\n  if (progress >= 50) return \"info\";\n  if (progress >= 25) return \"warning\";\n  return \"danger\";\n};\nconst TaskList = ({\n  tasks,\n  onToggleComplete,\n  onEdit,\n  onDelete,\n  currentUserId\n}) => {\n  _s();\n  const [activeTask, setActiveTask] = useState(null);\n  const [progressContent, setProgressContent] = useState(\"\");\n  const [progressFiles, setProgressFiles] = useState([]);\n  const [error, setError] = useState(\"\");\n  const [toast, setToast] = useState({\n    show: false,\n    type: 'success',\n    message: ''\n  });\n  const showToast = (type, message) => {\n    setToast({\n      show: true,\n      type,\n      message\n    });\n    setTimeout(() => setToast(t => ({\n      ...t,\n      show: false\n    })), 2000);\n  };\n  const userRole = (() => {\n    try {\n      var _JSON$parse;\n      return ((_JSON$parse = JSON.parse(localStorage.getItem('userInfo'))) === null || _JSON$parse === void 0 ? void 0 : _JSON$parse.role) || 'user';\n    } catch {\n      return 'user';\n    }\n  })();\n  const isAdminRole = userRole === 'admin';\n  const onAccept = async taskId => {\n    try {\n      setError(\"\");\n      await acceptTaskApi(taskId);\n      window.location.reload();\n    } catch (e) {\n      var _e$response, _e$response$data;\n      setError((e === null || e === void 0 ? void 0 : (_e$response = e.response) === null || _e$response === void 0 ? void 0 : (_e$response$data = _e$response.data) === null || _e$response$data === void 0 ? void 0 : _e$response$data.message) || 'Erreur');\n    }\n  };\n  const onDecline = async taskId => {\n    try {\n      setError(\"\");\n      await declineTaskApi(taskId);\n      window.location.reload();\n    } catch (e) {\n      var _e$response2, _e$response2$data;\n      setError((e === null || e === void 0 ? void 0 : (_e$response2 = e.response) === null || _e$response2 === void 0 ? void 0 : (_e$response2$data = _e$response2.data) === null || _e$response2$data === void 0 ? void 0 : _e$response2$data.message) || 'Erreur');\n    }\n  };\n  const onSubmitProgress = async e => {\n    e.preventDefault();\n    try {\n      setError(\"\");\n      if (!activeTask) return;\n      await submitProgressApi(activeTask._id, progressContent, Array.from(progressFiles));\n      setActiveTask(null);\n      setProgressContent(\"\");\n      setProgressFiles([]);\n      showToast('success', 'Avancement envoyé avec succès.');\n      setTimeout(() => window.location.reload(), 800);\n    } catch (e) {\n      var _e$response3, _e$response3$data;\n      setError((e === null || e === void 0 ? void 0 : (_e$response3 = e.response) === null || _e$response3 === void 0 ? void 0 : (_e$response3$data = _e$response3.data) === null || _e$response3$data === void 0 ? void 0 : _e$response3$data.message) || 'Erreur envoi avancement');\n    }\n  };\n  const canCurrentUserSubmit = task => {\n    const isAuthor = String(task.userId) === String(currentUserId);\n    const isShared = task.visibility === 'shared';\n    const isAssignee = Array.isArray(task.assignedTo) ? task.assignedTo.map(String).includes(String(currentUserId)) : String(task.assignedTo) === String(currentUserId);\n    const accepted = task.participationStatus === 'accepted';\n    return isShared && isAuthor || isAssignee && accepted;\n  };\n  const canViewReports = task => {\n    const isAuthor = String(task.userId) === String(currentUserId);\n    const isAssignee = Array.isArray(task.assignedTo) ? task.assignedTo.map(String).includes(String(currentUserId)) : String(task.assignedTo) === String(currentUserId);\n    return isAuthor || isAssignee;\n  };\n  const [reportsOpenFor, setReportsOpenFor] = useState(null);\n  const [reportsData, setReportsData] = useState({\n    task: null,\n    reports: []\n  });\n  const [reportsError, setReportsError] = useState(\"\");\n  const [reportsLoading, setReportsLoading] = useState(false);\n  const openReports = async task => {\n    try {\n      setReportsError(\"\");\n      setReportsLoading(true);\n      setReportsOpenFor(task._id);\n      const res = await getTaskReports(task._id);\n      setReportsData(res);\n    } catch (e) {\n      var _e$response4, _e$response4$data;\n      setReportsError((e === null || e === void 0 ? void 0 : (_e$response4 = e.response) === null || _e$response4 === void 0 ? void 0 : (_e$response4$data = _e$response4.data) === null || _e$response4$data === void 0 ? void 0 : _e$response4$data.message) || 'Erreur lors du chargement des soumissions.');\n    } finally {\n      setReportsLoading(false);\n    }\n  };\n  const fileUrl = path => {\n    if (!path) return '#';\n    if (/^https?:\\/\\//i.test(path)) return path;\n    return `${BACKEND_ORIGIN}${path.startsWith('/') ? '' : '/'}${path}`;\n  };\n  const canDelete = task => {\n    const isOwner = String(task.userId) === String(currentUserId);\n    const isProject = !!task.projectId;\n    if (isProject) {\n      return isAdminRole; // tâches projet: admin uniquement\n    }\n    return isOwner || isAdminRole; // autres: créateur ou admin\n  };\n  const canEdit = task => {\n    const isOwner = String(task.userId) === String(currentUserId);\n    const isProject = !!task.projectId;\n    return isProject ? isAdminRole : isOwner;\n  };\n  const canToggleComplete = task => {\n    const isOwner = String(task.userId) === String(currentUserId);\n    const isProject = !!task.projectId;\n    return isProject ? isAdminRole : isOwner;\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"task-list\",\n    children: [toast.show && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        position: 'fixed',\n        top: 72,\n        right: 16,\n        zIndex: 2000,\n        minWidth: 260\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `alert alert-${toast.type} alert-dismissible fade show shadow`,\n        role: \"alert\",\n        children: [toast.message, /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          className: \"btn-close\",\n          onClick: () => setToast({\n            ...toast,\n            show: false\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 9\n    }, this), tasks.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-center text-muted p-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"i\", {\n        className: \"bi bi-inbox fs-1 d-block mb-3\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 11\n      }, this), \"Aucune t\\xE2che \\xE0 afficher\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"list-group\",\n      children: tasks.map(task => {\n        var _reportsData$reports;\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `list-group-item ${task.completed ? \"list-group-item-success bg-opacity-25\" : \"\"}`,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"d-flex flex-column gap-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"d-flex justify-content-between align-items-start\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"me-auto\",\n                children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                  className: \"mb-1\",\n                  style: {\n                    textDecoration: task.completed ? \"line-through\" : \"none\"\n                  },\n                  children: task.title\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 161,\n                  columnNumber: 21\n                }, this), task.description && /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"mb-1 text-muted\",\n                  children: task.description\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 170,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 160,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"d-flex gap-2\",\n                children: [canEdit(task) && /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"btn btn-sm btn-warning\",\n                  onClick: () => onEdit(task),\n                  children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                    className: \"bi bi-pencil\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 179,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"d-none d-sm-inline ms-1\",\n                    children: \"Modifier\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 180,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 175,\n                  columnNumber: 23\n                }, this), canDelete(task) && /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"btn btn-sm btn-danger\",\n                  onClick: () => onDelete(task._id),\n                  children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                    className: \"bi bi-trash\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 188,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"d-none d-sm-inline ms-1\",\n                    children: \"Supprimer\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 189,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 184,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 173,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 159,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"d-flex flex-wrap gap-3 align-items-center\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-check mb-0\",\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  className: \"form-check-input\",\n                  type: \"checkbox\",\n                  checked: task.completed,\n                  onChange: () => {\n                    if (canToggleComplete(task)) {\n                      onToggleComplete(task._id, !task.completed);\n                    }\n                  },\n                  id: `complete-${task._id}`,\n                  disabled: !canToggleComplete(task)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 197,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"form-check-label\",\n                  htmlFor: `complete-${task._id}`,\n                  children: \"Termin\\xE9e\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 205,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 196,\n                columnNumber: 19\n              }, this), getPriorityBadge(task.priority || \"medium\"), task.dueDate && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"small\",\n                children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"bi bi-calendar-event me-1\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 217,\n                  columnNumber: 23\n                }, this), \"\\xC9ch\\xE9ance : \", formatDate(task.dueDate)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 216,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 195,\n              columnNumber: 17\n            }, this), task.projectId && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"progress\",\n              style: {\n                height: \"8px\"\n              },\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: `progress-bar bg-${getProgressColor(task.progress || 0)}`,\n                role: \"progressbar\",\n                style: {\n                  width: `${task.progress || 0}%`\n                },\n                \"aria-valuenow\": task.progress || 0,\n                \"aria-valuemin\": \"0\",\n                \"aria-valuemax\": \"100\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 225,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 224,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"d-flex justify-content-between align-items-center small text-muted\",\n              children: [task.projectId && /*#__PURE__*/_jsxDEV(\"span\", {\n                children: [\"Progression : \", task.progress || 0, \"%\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 238,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"me-2\",\n                  children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                    className: \"bi bi-clock-history me-1\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 242,\n                    columnNumber: 23\n                  }, this), \"Cr\\xE9\\xE9e le : \", formatDate(task.createdAt)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 241,\n                  columnNumber: 21\n                }, this), task.updatedAt !== task.createdAt && /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                    className: \"bi bi-pencil-square me-1\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 247,\n                    columnNumber: 25\n                  }, this), \"Modifi\\xE9e le : \", formatDate(task.updatedAt)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 246,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 240,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 236,\n              columnNumber: 17\n            }, this), (Array.isArray(task.assignedTo) ? task.assignedTo.length > 0 : !!task.assignedTo) && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"d-flex align-items-center gap-2\",\n              children: [task.participationStatus === 'pending' && (Array.isArray(task.assignedTo) ? task.assignedTo.map(String).includes(String(currentUserId)) : String(task.assignedTo) === String(currentUserId)) && /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"btn btn-sm btn-outline-success\",\n                  onClick: () => onAccept(task._id),\n                  children: \"Accepter\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 258,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"btn btn-sm btn-outline-secondary\",\n                  onClick: () => onDecline(task._id),\n                  children: \"Refuser\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 259,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true), canCurrentUserSubmit(task) && /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn btn-sm btn-outline-primary\",\n                onClick: () => setActiveTask(task),\n                children: \"Soumettre un avancement\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 263,\n                columnNumber: 23\n              }, this), canViewReports(task) && /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn btn-sm btn-outline-info\",\n                onClick: () => openReports(task),\n                children: \"Voir les soumissions\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 266,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"badge bg-light text-dark border\",\n                children: Array.isArray(task.assignedTo) ? task.assignedTo.map(String).includes(String(currentUserId)) ? 'Assignée à vous' : `Collaborateurs: ${task.assignedTo.length}` : String(task.assignedTo) === String(currentUserId) ? 'Assignée à vous' : `Assignée (${String(task.assignedTo).slice(-4)})`\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 270,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: `badge ${task.participationStatus === 'accepted' ? 'bg-success' : task.participationStatus === 'declined' ? 'bg-danger' : 'bg-secondary'}`,\n                children: task.participationStatus || 'pending'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 276,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 255,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 158,\n            columnNumber: 15\n          }, this), activeTask && activeTask._id === task._id && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-2\",\n            children: [error && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"alert alert-danger py-1 my-2\",\n              children: error\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 284,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n              onSubmit: onSubmitProgress,\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mb-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"form-label\",\n                  children: \"Description de l'avancement\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 287,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n                  className: \"form-control\",\n                  value: progressContent,\n                  onChange: e => setProgressContent(e.target.value),\n                  required: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 288,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 286,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mb-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"form-label\",\n                  children: \"Pi\\xE8ces jointes (max 5, 5Mo chacune)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 291,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  className: \"form-control\",\n                  type: \"file\",\n                  multiple: true,\n                  onChange: e => setProgressFiles(e.target.files)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 292,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 290,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"d-flex gap-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"btn btn-primary btn-sm\",\n                  type: \"submit\",\n                  children: \"Envoyer\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 295,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"btn btn-secondary btn-sm\",\n                  type: \"button\",\n                  onClick: () => {\n                    setActiveTask(null);\n                    setProgressContent(\"\");\n                    setProgressFiles([]);\n                  },\n                  children: \"Annuler\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 296,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 294,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 285,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 283,\n            columnNumber: 17\n          }, this), reportsOpenFor && reportsOpenFor === task._id && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-2 border rounded p-2 bg-light\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"d-flex justify-content-between align-items-center mb-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Soumissions d'avancement\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 304,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn btn-sm btn-outline-secondary\",\n                onClick: () => {\n                  setReportsOpenFor(null);\n                  setReportsData({\n                    task: null,\n                    reports: []\n                  });\n                },\n                children: \"Fermer\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 305,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 303,\n              columnNumber: 19\n            }, this), reportsError && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"alert alert-danger py-1 my-2\",\n              children: reportsError\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 307,\n              columnNumber: 36\n            }, this), reportsLoading ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-muted\",\n              children: \"Chargement...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 309,\n              columnNumber: 21\n            }, this) : ((_reportsData$reports = reportsData.reports) === null || _reportsData$reports === void 0 ? void 0 : _reportsData$reports.length) > 0 ? /*#__PURE__*/_jsxDEV(\"ul\", {\n              className: \"list-group\",\n              children: reportsData.reports.map(r => /*#__PURE__*/_jsxDEV(\"li\", {\n                className: \"list-group-item\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"d-flex justify-content-between\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"small text-muted\",\n                    children: [\"Par: \", r.userId, \" \\u2014 \", formatDate(r.createdAt)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 315,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: `badge ${r.status === 'approved' ? 'bg-success' : r.status === 'rejected' ? 'bg-danger' : 'bg-secondary'}`,\n                    children: r.status\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 316,\n                    columnNumber: 29\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 314,\n                  columnNumber: 27\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"mt-1\",\n                  children: r.content\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 318,\n                  columnNumber: 27\n                }, this), r.reviewComment && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"small text-muted mt-1\",\n                  children: [\"Commentaire: \", r.reviewComment]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 320,\n                  columnNumber: 29\n                }, this), Array.isArray(r.attachments) && r.attachments.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"mt-2\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"small fw-bold\",\n                    children: \"Pi\\xE8ces jointes\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 324,\n                    columnNumber: 31\n                  }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n                    className: \"small mb-0\",\n                    children: r.attachments.map((a, idx) => /*#__PURE__*/_jsxDEV(\"li\", {\n                      children: /*#__PURE__*/_jsxDEV(\"a\", {\n                        href: fileUrl(a.url),\n                        target: \"_blank\",\n                        rel: \"noreferrer\",\n                        children: a.originalname || a.filename\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 327,\n                        columnNumber: 49\n                      }, this)\n                    }, idx, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 327,\n                      columnNumber: 35\n                    }, this))\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 325,\n                    columnNumber: 31\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 323,\n                  columnNumber: 29\n                }, this)]\n              }, r._id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 313,\n                columnNumber: 25\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 311,\n              columnNumber: 21\n            }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-muted\",\n              children: \"Aucune soumission pour cette t\\xE2che.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 336,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 302,\n            columnNumber: 17\n          }, this), Array.isArray(task.participationLogs) && task.participationLogs.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-2 small text-muted\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"fw-bold\",\n              children: \"Historique participation\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 342,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n              className: \"mb-0\",\n              children: task.participationLogs.map((p, idx) => /*#__PURE__*/_jsxDEV(\"li\", {\n                children: [p.userName || p.userId, \": \", p.status, \" \\u2014 \", new Date(p.at).toLocaleString('fr-FR')]\n              }, idx, true, {\n                fileName: _jsxFileName,\n                lineNumber: 345,\n                columnNumber: 23\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 343,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 341,\n            columnNumber: 17\n          }, this)]\n        }, task._id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 13\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 135,\n    columnNumber: 5\n  }, this);\n};\n_s(TaskList, \"wp+V94Yu9R14oKfl/ixW4pEWTvU=\");\n_c = TaskList;\nexport default TaskList;\nvar _c;\n$RefreshReg$(_c, \"TaskList\");","map":{"version":3,"names":["React","useState","acceptTaskApi","declineTaskApi","submitProgressApi","getTaskReports","BACKEND_ORIGIN","jsxDEV","_jsxDEV","Fragment","_Fragment","formatDate","dateString","Date","toLocaleString","day","month","year","hour","minute","getPriorityBadge","priority","badges","low","medium","high","labels","className","children","fileName","_jsxFileName","lineNumber","columnNumber","getProgressColor","progress","TaskList","tasks","onToggleComplete","onEdit","onDelete","currentUserId","_s","activeTask","setActiveTask","progressContent","setProgressContent","progressFiles","setProgressFiles","error","setError","toast","setToast","show","type","message","showToast","setTimeout","t","userRole","_JSON$parse","JSON","parse","localStorage","getItem","role","isAdminRole","onAccept","taskId","window","location","reload","e","_e$response","_e$response$data","response","data","onDecline","_e$response2","_e$response2$data","onSubmitProgress","preventDefault","_id","Array","from","_e$response3","_e$response3$data","canCurrentUserSubmit","task","isAuthor","String","userId","isShared","visibility","isAssignee","isArray","assignedTo","map","includes","accepted","participationStatus","canViewReports","reportsOpenFor","setReportsOpenFor","reportsData","setReportsData","reports","reportsError","setReportsError","reportsLoading","setReportsLoading","openReports","res","_e$response4","_e$response4$data","fileUrl","path","test","startsWith","canDelete","isOwner","isProject","projectId","canEdit","canToggleComplete","style","position","top","right","zIndex","minWidth","onClick","length","_reportsData$reports","completed","textDecoration","title","description","checked","onChange","id","disabled","htmlFor","dueDate","height","width","createdAt","updatedAt","slice","onSubmit","value","target","required","multiple","files","r","status","content","reviewComment","attachments","a","idx","href","url","rel","originalname","filename","participationLogs","p","userName","at","_c","$RefreshReg$"],"sources":["C:/Users/LENOVO/Documents/Task-Management-Application-main/frontend/src/components/TaskList.jsx"],"sourcesContent":["import React, { useState } from \"react\";\nimport { acceptTaskApi, declineTaskApi, submitProgressApi, getTaskReports, BACKEND_ORIGIN } from \"../services/api\";\n\nconst formatDate = (dateString) => {\n  if (!dateString) return \"Non définie\";\n  return new Date(dateString).toLocaleString('fr-FR', {\n    day: '2-digit',\n    month: '2-digit',\n    year: 'numeric',\n    hour: '2-digit',\n    minute: '2-digit'\n  });\n};\n\nconst getPriorityBadge = (priority) => {\n  const badges = {\n    low: \"bg-success\",\n    medium: \"bg-warning\",\n    high: \"bg-danger\"\n  };\n  const labels = {\n    low: \"Basse\",\n    medium: \"Moyenne\",\n    high: \"Haute\"\n  };\n  return (\n    <span className={`badge ${badges[priority]} me-2`}>\n      {labels[priority]}\n    </span>\n  );\n};\n\nconst getProgressColor = (progress) => {\n  if (progress >= 75) return \"success\";\n  if (progress >= 50) return \"info\";\n  if (progress >= 25) return \"warning\";\n  return \"danger\";\n};\n\nconst TaskList = ({ tasks, onToggleComplete, onEdit, onDelete, currentUserId }) => {\n  const [activeTask, setActiveTask] = useState(null);\n  const [progressContent, setProgressContent] = useState(\"\");\n  const [progressFiles, setProgressFiles] = useState([]);\n  const [error, setError] = useState(\"\");\n  const [toast, setToast] = useState({ show: false, type: 'success', message: '' });\n  const showToast = (type, message) => {\n    setToast({ show: true, type, message });\n    setTimeout(() => setToast((t) => ({ ...t, show: false })), 2000);\n  };\n\n  const userRole = (() => { try { return JSON.parse(localStorage.getItem('userInfo'))?.role || 'user'; } catch { return 'user'; } })();\n  const isAdminRole = userRole === 'admin';\n\n  const onAccept = async (taskId) => {\n    try { setError(\"\"); await acceptTaskApi(taskId); window.location.reload(); } catch (e) { setError(e?.response?.data?.message || 'Erreur'); }\n  };\n  const onDecline = async (taskId) => {\n    try { setError(\"\"); await declineTaskApi(taskId); window.location.reload(); } catch (e) { setError(e?.response?.data?.message || 'Erreur'); }\n  };\n  const onSubmitProgress = async (e) => {\n    e.preventDefault();\n    try {\n      setError(\"\");\n      if (!activeTask) return;\n      await submitProgressApi(activeTask._id, progressContent, Array.from(progressFiles));\n      setActiveTask(null);\n      setProgressContent(\"\");\n      setProgressFiles([]);\n      showToast('success', 'Avancement envoyé avec succès.');\n      setTimeout(() => window.location.reload(), 800);\n    } catch (e) { setError(e?.response?.data?.message || 'Erreur envoi avancement'); }\n  };\n\n  const canCurrentUserSubmit = (task) => {\n    const isAuthor = String(task.userId) === String(currentUserId);\n    const isShared = task.visibility === 'shared';\n    const isAssignee = Array.isArray(task.assignedTo) ? task.assignedTo.map(String).includes(String(currentUserId)) : String(task.assignedTo) === String(currentUserId);\n    const accepted = task.participationStatus === 'accepted';\n    return (isShared && isAuthor) || (isAssignee && accepted);\n  };\n\n  const canViewReports = (task) => {\n    const isAuthor = String(task.userId) === String(currentUserId);\n    const isAssignee = Array.isArray(task.assignedTo) ? task.assignedTo.map(String).includes(String(currentUserId)) : String(task.assignedTo) === String(currentUserId);\n    return isAuthor || isAssignee;\n  };\n\n  const [reportsOpenFor, setReportsOpenFor] = useState(null);\n  const [reportsData, setReportsData] = useState({ task: null, reports: [] });\n  const [reportsError, setReportsError] = useState(\"\");\n  const [reportsLoading, setReportsLoading] = useState(false);\n\n  const openReports = async (task) => {\n    try {\n      setReportsError(\"\");\n      setReportsLoading(true);\n      setReportsOpenFor(task._id);\n      const res = await getTaskReports(task._id);\n      setReportsData(res);\n    } catch (e) {\n      setReportsError(e?.response?.data?.message || 'Erreur lors du chargement des soumissions.');\n    } finally {\n      setReportsLoading(false);\n    }\n  };\n\n  const fileUrl = (path) => {\n    if (!path) return '#';\n    if (/^https?:\\/\\//i.test(path)) return path;\n    return `${BACKEND_ORIGIN}${path.startsWith('/') ? '' : '/'}${path}`;\n  };\n\n  const canDelete = (task) => {\n    const isOwner = String(task.userId) === String(currentUserId);\n    const isProject = !!task.projectId;\n    if (isProject) {\n      return isAdminRole; // tâches projet: admin uniquement\n    }\n    return isOwner || isAdminRole; // autres: créateur ou admin\n  };\n\n  const canEdit = (task) => {\n    const isOwner = String(task.userId) === String(currentUserId);\n    const isProject = !!task.projectId;\n    return isProject ? isAdminRole : isOwner;\n  };\n\n  const canToggleComplete = (task) => {\n    const isOwner = String(task.userId) === String(currentUserId);\n    const isProject = !!task.projectId;\n    return isProject ? isAdminRole : isOwner;\n  };\n\n  return (\n    <div className=\"task-list\">\n      {toast.show && (\n        <div style={{ position: 'fixed', top: 72, right: 16, zIndex: 2000, minWidth: 260 }}>\n          <div className={`alert alert-${toast.type} alert-dismissible fade show shadow`} role=\"alert\">\n            {toast.message}\n            <button type=\"button\" className=\"btn-close\" onClick={() => setToast({ ...toast, show: false })}></button>\n          </div>\n        </div>\n      )}\n      {tasks.length === 0 ? (\n        <div className=\"text-center text-muted p-4\">\n          <i className=\"bi bi-inbox fs-1 d-block mb-3\"></i>\n          Aucune tâche à afficher\n        </div>\n      ) : (\n        <div className=\"list-group\">\n          {tasks.map((task) => (\n            <div\n              key={task._id}\n              className={`list-group-item ${\n                task.completed ? \"list-group-item-success bg-opacity-25\" : \"\"\n              }`}\n            >\n              <div className=\"d-flex flex-column gap-2\">\n                <div className=\"d-flex justify-content-between align-items-start\">\n                  <div className=\"me-auto\">\n                    <h5\n                      className=\"mb-1\"\n                      style={{\n                        textDecoration: task.completed ? \"line-through\" : \"none\",\n                      }}\n                    >\n                      {task.title}\n                    </h5>\n                    {task.description && (\n                      <p className=\"mb-1 text-muted\">{task.description}</p>\n                    )}\n                  </div>\n                  <div className=\"d-flex gap-2\">\n                    {canEdit(task) && (\n                      <button\n                        className=\"btn btn-sm btn-warning\"\n                        onClick={() => onEdit(task)}\n                      >\n                        <i className=\"bi bi-pencil\"></i>\n                        <span className=\"d-none d-sm-inline ms-1\">Modifier</span>\n                      </button>\n                    )}\n                    {canDelete(task) && (\n                      <button\n                        className=\"btn btn-sm btn-danger\"\n                        onClick={() => onDelete(task._id)}\n                      >\n                        <i className=\"bi bi-trash\"></i>\n                        <span className=\"d-none d-sm-inline ms-1\">Supprimer</span>\n                      </button>\n                    )}\n                  </div>\n                </div>\n\n                <div className=\"d-flex flex-wrap gap-3 align-items-center\">\n                  <div className=\"form-check mb-0\">\n                    <input\n                      className=\"form-check-input\"\n                      type=\"checkbox\"\n                      checked={task.completed}\n                      onChange={() => { if (canToggleComplete(task)) { onToggleComplete(task._id, !task.completed); } }}\n                      id={`complete-${task._id}`}\n                      disabled={!canToggleComplete(task)}\n                    />\n                    <label\n                      className=\"form-check-label\"\n                      htmlFor={`complete-${task._id}`}\n                    >\n                      Terminée\n                    </label>\n                  </div>\n\n                  {getPriorityBadge(task.priority || \"medium\")}\n\n                  {task.dueDate && (\n                    <div className=\"small\">\n                      <i className=\"bi bi-calendar-event me-1\"></i>\n                      Échéance : {formatDate(task.dueDate)}\n                    </div>\n                  )}\n                </div>\n\n                {task.projectId && (\n                  <div className=\"progress\" style={{ height: \"8px\" }}>\n                    <div\n                      className={`progress-bar bg-${getProgressColor(task.progress || 0)}`}\n                      role=\"progressbar\"\n                      style={{ width: `${task.progress || 0}%` }}\n                      aria-valuenow={task.progress || 0}\n                      aria-valuemin=\"0\"\n                      aria-valuemax=\"100\"\n                    ></div>\n                  </div>\n                )}\n\n                <div className=\"d-flex justify-content-between align-items-center small text-muted\">\n                  {task.projectId && (\n                    <span>Progression : {task.progress || 0}%</span>\n                  )}\n                  <div>\n                    <span className=\"me-2\">\n                      <i className=\"bi bi-clock-history me-1\"></i>\n                      Créée le : {formatDate(task.createdAt)}\n                    </span>\n                    {task.updatedAt !== task.createdAt && (\n                      <span>\n                        <i className=\"bi bi-pencil-square me-1\"></i>\n                        Modifiée le : {formatDate(task.updatedAt)}\n                      </span>\n                    )}\n                  </div>\n                </div>\n\n                {(Array.isArray(task.assignedTo) ? task.assignedTo.length > 0 : !!task.assignedTo) && (\n                  <div className=\"d-flex align-items-center gap-2\">\n                    {task.participationStatus === 'pending' && (Array.isArray(task.assignedTo) ? task.assignedTo.map(String).includes(String(currentUserId)) : String(task.assignedTo) === String(currentUserId)) && (\n                      <>\n                        <button className=\"btn btn-sm btn-outline-success\" onClick={() => onAccept(task._id)}>Accepter</button>\n                        <button className=\"btn btn-sm btn-outline-secondary\" onClick={() => onDecline(task._id)}>Refuser</button>\n                      </>\n                    )}\n                    {(canCurrentUserSubmit(task)) && (\n                      <button className=\"btn btn-sm btn-outline-primary\" onClick={() => setActiveTask(task)}>Soumettre un avancement</button>\n                    )}\n                    {(canViewReports(task)) && (\n                      <button className=\"btn btn-sm btn-outline-info\" onClick={() => openReports(task)}>\n                        Voir les soumissions\n                      </button>\n                    )}\n                    <span className=\"badge bg-light text-dark border\">\n                      {Array.isArray(task.assignedTo)\n                        ? (task.assignedTo.map(String).includes(String(currentUserId)) ? 'Assignée à vous' : `Collaborateurs: ${task.assignedTo.length}`)\n                        : (String(task.assignedTo) === String(currentUserId) ? 'Assignée à vous' : `Assignée (${String(task.assignedTo).slice(-4)})`)\n                      }\n                    </span>\n                    <span className={`badge ${task.participationStatus === 'accepted' ? 'bg-success' : task.participationStatus === 'declined' ? 'bg-danger' : 'bg-secondary'}`}>\n                      {task.participationStatus || 'pending'}\n                    </span>\n                  </div>\n                )}\n              </div>\n              {activeTask && activeTask._id === task._id && (\n                <div className=\"mt-2\">\n                  {error && <div className=\"alert alert-danger py-1 my-2\">{error}</div>}\n                  <form onSubmit={onSubmitProgress}>\n                    <div className=\"mb-2\">\n                      <label className=\"form-label\">Description de l'avancement</label>\n                      <textarea className=\"form-control\" value={progressContent} onChange={(e) => setProgressContent(e.target.value)} required />\n                    </div>\n                    <div className=\"mb-2\">\n                      <label className=\"form-label\">Pièces jointes (max 5, 5Mo chacune)</label>\n                      <input className=\"form-control\" type=\"file\" multiple onChange={(e) => setProgressFiles(e.target.files)} />\n                    </div>\n                    <div className=\"d-flex gap-2\">\n                      <button className=\"btn btn-primary btn-sm\" type=\"submit\">Envoyer</button>\n                      <button className=\"btn btn-secondary btn-sm\" type=\"button\" onClick={() => { setActiveTask(null); setProgressContent(\"\"); setProgressFiles([]); }}>Annuler</button>\n                    </div>\n                  </form>\n                </div>\n              )}\n              {reportsOpenFor && reportsOpenFor === task._id && (\n                <div className=\"mt-2 border rounded p-2 bg-light\">\n                  <div className=\"d-flex justify-content-between align-items-center mb-2\">\n                    <strong>Soumissions d'avancement</strong>\n                    <button className=\"btn btn-sm btn-outline-secondary\" onClick={() => { setReportsOpenFor(null); setReportsData({ task: null, reports: [] }); }}>Fermer</button>\n                  </div>\n                  {reportsError && <div className=\"alert alert-danger py-1 my-2\">{reportsError}</div>}\n                  {reportsLoading ? (\n                    <div className=\"text-muted\">Chargement...</div>\n                  ) : reportsData.reports?.length > 0 ? (\n                    <ul className=\"list-group\">\n                      {reportsData.reports.map((r) => (\n                        <li key={r._id} className=\"list-group-item\">\n                          <div className=\"d-flex justify-content-between\">\n                            <div className=\"small text-muted\">Par: {r.userId} — {formatDate(r.createdAt)}</div>\n                            <span className={`badge ${r.status === 'approved' ? 'bg-success' : r.status === 'rejected' ? 'bg-danger' : 'bg-secondary'}`}>{r.status}</span>\n                          </div>\n                          <div className=\"mt-1\">{r.content}</div>\n                          {r.reviewComment && (\n                            <div className=\"small text-muted mt-1\">Commentaire: {r.reviewComment}</div>\n                          )}\n                          {Array.isArray(r.attachments) && r.attachments.length > 0 && (\n                            <div className=\"mt-2\">\n                              <div className=\"small fw-bold\">Pièces jointes</div>\n                              <ul className=\"small mb-0\">\n                                {r.attachments.map((a, idx) => (\n                                  <li key={idx}><a href={fileUrl(a.url)} target=\"_blank\" rel=\"noreferrer\">{a.originalname || a.filename}</a></li>\n                                ))}\n                              </ul>\n                            </div>\n                          )}\n                        </li>\n                      ))}\n                    </ul>\n                  ) : (\n                    <div className=\"text-muted\">Aucune soumission pour cette tâche.</div>\n                  )}\n                </div>\n              )}\n              {Array.isArray(task.participationLogs) && task.participationLogs.length > 0 && (\n                <div className=\"mt-2 small text-muted\">\n                  <div className=\"fw-bold\">Historique participation</div>\n                  <ul className=\"mb-0\">\n                    {task.participationLogs.map((p, idx) => (\n                      <li key={idx}>{p.userName || p.userId}: {p.status} — {new Date(p.at).toLocaleString('fr-FR')}</li>\n                    ))}\n                  </ul>\n                </div>\n              )}\n            </div>\n          ))}\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default TaskList;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}